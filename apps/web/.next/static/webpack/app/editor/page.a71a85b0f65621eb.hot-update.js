"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/editor/page",{

/***/ "(app-pages-browser)/./src/app/editor/page.tsx":
/*!*********************************!*\
  !*** ./src/app/editor/page.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EditorPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_editor_Canvas_Canvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/editor/Canvas/Canvas */ \"(app-pages-browser)/./src/components/editor/Canvas/Canvas.tsx\");\n/* harmony import */ var _components_editor_Toolbar_Toolbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/editor/Toolbar/Toolbar */ \"(app-pages-browser)/./src/components/editor/Toolbar/Toolbar.tsx\");\n/* harmony import */ var _components_editor_AssetPanel_TextTab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/editor/AssetPanel/TextTab */ \"(app-pages-browser)/./src/components/editor/AssetPanel/TextTab.tsx\");\n/* harmony import */ var _components_editor_AssetPanel_ImageTab__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/editor/AssetPanel/ImageTab */ \"(app-pages-browser)/./src/components/editor/AssetPanel/ImageTab.tsx\");\n/* harmony import */ var _components_editor_AssetPanel_ShapeTab__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/editor/AssetPanel/ShapeTab */ \"(app-pages-browser)/./src/components/editor/AssetPanel/ShapeTab.tsx\");\n/* harmony import */ var _components_editor_PropertyPanel_PropertyPanel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/editor/PropertyPanel/PropertyPanel */ \"(app-pages-browser)/./src/components/editor/PropertyPanel/PropertyPanel.tsx\");\n/* harmony import */ var _hooks_useCanvas__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/useCanvas */ \"(app-pages-browser)/./src/hooks/useCanvas.ts\");\n/* harmony import */ var _stores_canvasStore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/stores/canvasStore */ \"(app-pages-browser)/./src/stores/canvasStore.ts\");\n/* harmony import */ var _components_ui_Toast__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/Toast */ \"(app-pages-browser)/./src/components/ui/Toast.tsx\");\n/* harmony import */ var _components_editor_ExportDialog__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/editor/ExportDialog */ \"(app-pages-browser)/./src/components/editor/ExportDialog.tsx\");\n/* harmony import */ var _lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/fabric/canvas */ \"(app-pages-browser)/./src/lib/fabric/canvas.ts\");\n/* harmony import */ var _lib_constants_editor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/constants/editor */ \"(app-pages-browser)/./src/lib/constants/editor.ts\");\n/* harmony import */ var _lib_fabric_image__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/lib/fabric/image */ \"(app-pages-browser)/./src/lib/fabric/image.ts\");\n/* harmony import */ var _lib_utils_fileValidation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/lib/utils/fileValidation */ \"(app-pages-browser)/./src/lib/utils/fileValidation.ts\");\n/* harmony import */ var _lib_fabric_shape__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/lib/fabric/shape */ \"(app-pages-browser)/./src/lib/fabric/shape.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction EditorPage() {\n    _s();\n    const [activeTool, setActiveTool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"text\");\n    const [canvasInstance, setCanvasInstance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [drawMode, setDrawMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"none\");\n    const [isDrawing, setIsDrawing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [tempShape, setTempShape] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [drawStartPoint, setDrawStartPoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isExportDialogOpen, setIsExportDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { setCanvas, addText } = (0,_hooks_useCanvas__WEBPACK_IMPORTED_MODULE_8__.useCanvas)();\n    const toast = (0,_components_ui_Toast__WEBPACK_IMPORTED_MODULE_10__.useToast)();\n    // Get state from store\n    const { currentSize, backgroundColor, setCanvasSize, setBackgroundColor } = (0,_stores_canvasStore__WEBPACK_IMPORTED_MODULE_9__.useCanvasStore)();\n    // Ensure we always have safe values for downstream consumers\n    const canvasSize = currentSize !== null && currentSize !== void 0 ? currentSize : _lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.CANVAS_SIZES[0];\n    const canvasBackground = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : \"#ffffff\";\n    const handleCanvasReady = (canvas)=>{\n        setCanvas(canvas);\n        setCanvasInstance(canvas);\n        // Sync canvas with store\n        (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.resizeCanvas)(canvas, canvasSize, false);\n        (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.setCanvasBackground)(canvas, canvasBackground);\n    };\n    // Watch for store changes and update canvas\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvasInstance || !canvasSize) return;\n        (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.resizeCanvas)(canvasInstance, canvasSize, true);\n    }, [\n        canvasInstance,\n        canvasSize\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvasInstance || !canvasBackground) return;\n        (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.setCanvasBackground)(canvasInstance, canvasBackground);\n    }, [\n        canvasInstance,\n        canvasBackground\n    ]);\n    const handleToolChange = (tool)=>{\n        setActiveTool(tool);\n    };\n    const handleAddText = ()=>{\n        addText(_lib_constants_editor__WEBPACK_IMPORTED_MODULE_13__.DEFAULT_TEXT_PROPS);\n    };\n    const handleImageUpload = async (file)=>{\n        if (!canvasInstance) {\n            toast.error(\"画布未初始化\");\n            return;\n        }\n        const validation = (0,_lib_utils_fileValidation__WEBPACK_IMPORTED_MODULE_15__.validateImageFile)(file, {\n            maxSize: 10 * 1024 * 1024,\n            allowedTypes: [\n                \"image/jpeg\",\n                \"image/png\",\n                \"image/webp\"\n            ]\n        });\n        if (!validation.valid) {\n            toast.error(validation.error || \"文件校验失败\");\n            return;\n        }\n        try {\n            const imageObject = await (0,_lib_fabric_image__WEBPACK_IMPORTED_MODULE_14__.createImageObject)(canvasInstance, file, {\n                maxSize: 800\n            });\n            imageObject.fileSize = file.size;\n            toast.success(\"图片上传成功！\");\n        } catch (error) {\n            toast.error(\"图片上传失败，请重试\");\n        }\n    };\n    const handleShapeCreate = (shapeType)=>{\n        if (!canvasInstance) {\n            toast.error(\"画布未初始化\");\n            return;\n        }\n        try {\n            switch(shapeType){\n                case \"rectangle\":\n                    (0,_lib_fabric_shape__WEBPACK_IMPORTED_MODULE_16__.createRectangle)(canvasInstance);\n                    break;\n                case \"circle\":\n                    (0,_lib_fabric_shape__WEBPACK_IMPORTED_MODULE_16__.createCircle)(canvasInstance);\n                    break;\n                case \"line\":\n                    (0,_lib_fabric_shape__WEBPACK_IMPORTED_MODULE_16__.createLine)(canvasInstance);\n                    break;\n            }\n        } catch (error) {\n            toast.error(\"形状创建失败，请重试\");\n        }\n    };\n    const handleCopy = async ()=>{\n        if (!canvasInstance) {\n            toast.error(\"画布未初始化\");\n            return;\n        }\n        try {\n            const dataUrl = (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.exportCanvas)(canvasInstance, {\n                format: \"png\"\n            });\n            await (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.copyToClipboard)(dataUrl);\n            toast.success(\"图片已复制到剪贴板！\");\n        } catch (error) {\n            toast.error(\"复制失败，请重试\");\n        }\n    };\n    const handleExport = (options)=>{\n        if (!canvasInstance) {\n            toast.error(\"画布未初始化\");\n            return;\n        }\n        try {\n            (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.downloadCanvasImage)(canvasInstance, {\n                format: options.format,\n                quality: options.quality,\n                transparent: options.transparent\n            });\n            toast.success(\"导出成功\");\n        } catch (error) {\n            toast.error(\"导出失败，请重试\");\n        }\n    };\n    // Keyboard shortcuts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            var _e_target;\n            // Only trigger shortcuts when not typing in an input\n            if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || ((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.contentEditable) === \"true\") {\n                return;\n            }\n            const key = e.key.toLowerCase();\n            if (key === \"r\") {\n                e.preventDefault();\n                handleShapeCreate(\"rectangle\");\n            } else if (key === \"o\") {\n                e.preventDefault();\n                handleShapeCreate(\"circle\");\n            } else if (key === \"l\") {\n                e.preventDefault();\n                handleShapeCreate(\"line\");\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [\n        canvasInstance\n    ]);\n    // 重置视图快捷键 (Ctrl+0)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if ((e.ctrlKey || e.metaKey) && e.key === \"0\") {\n                e.preventDefault();\n                (0,_lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.resetCanvasView)(canvasInstance);\n                toast.success(\"视图已重置\");\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        canvasInstance,\n        toast\n    ]);\n    // 形状绘制快捷键 (R/O/L)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            // 如果正在编辑文本，不触发快捷键\n            if (e.target.tagName === \"INPUT\" || e.target.tagName === \"TEXTAREA\") {\n                return;\n            }\n            switch(e.key.toLowerCase()){\n                case \"r\":\n                    setDrawMode(\"rectangle\");\n                    toast.info(\"矩形绘制模式：在画布上拖拽绘制\");\n                    break;\n                case \"o\":\n                    setDrawMode(\"circle\");\n                    toast.info(\"圆形绘制模式：在画布上拖拽绘制\");\n                    break;\n                case \"l\":\n                    setDrawMode(\"line\");\n                    toast.info(\"直线绘制模式：在画布上拖拽绘制\");\n                    break;\n                case \"escape\":\n                    if (drawMode !== \"none\") {\n                        setDrawMode(\"none\");\n                        toast.info(\"已退出绘制模式\");\n                    }\n                    break;\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        drawMode,\n        toast\n    ]);\n    // 画布绘制事件监听\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvasInstance || drawMode === \"none\") return;\n        const handleMouseDown = (opt)=>{\n            const pointer = canvasInstance.getPointer(opt.e);\n            setIsDrawing(true);\n            setDrawStartPoint(pointer);\n            const shape = (0,_lib_fabric_shape__WEBPACK_IMPORTED_MODULE_16__.startDragDrawShape)(canvasInstance, drawMode, pointer);\n            setTempShape(shape);\n        };\n        const handleMouseMove = (opt)=>{\n            if (!isDrawing || !tempShape || !drawStartPoint) return;\n            const pointer = canvasInstance.getPointer(opt.e);\n            (0,_lib_fabric_shape__WEBPACK_IMPORTED_MODULE_16__.updateDragDrawShape)(tempShape, drawMode, drawStartPoint, pointer);\n        };\n        const handleMouseUp = ()=>{\n            if (!isDrawing || !tempShape) return;\n            (0,_lib_fabric_shape__WEBPACK_IMPORTED_MODULE_16__.finishDragDrawShape)(canvasInstance, tempShape, drawMode);\n            setIsDrawing(false);\n            setTempShape(null);\n            setDrawStartPoint(null);\n            setDrawMode(\"none\");\n            toast.success(\"形状已创建\");\n        };\n        canvasInstance.on(\"mouse:down\", handleMouseDown);\n        canvasInstance.on(\"mouse:move\", handleMouseMove);\n        canvasInstance.on(\"mouse:up\", handleMouseUp);\n        return ()=>{\n            canvasInstance.off(\"mouse:down\", handleMouseDown);\n            canvasInstance.off(\"mouse:move\", handleMouseMove);\n            canvasInstance.off(\"mouse:up\", handleMouseUp);\n        };\n    }, [\n        canvasInstance,\n        drawMode,\n        isDrawing,\n        tempShape,\n        drawStartPoint,\n        toast\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-screen flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_Toolbar_Toolbar__WEBPACK_IMPORTED_MODULE_3__.Toolbar, {\n                sizes: _lib_fabric_canvas__WEBPACK_IMPORTED_MODULE_12__.CANVAS_SIZES,\n                currentSize: canvasSize,\n                currentBackground: canvasBackground,\n                onSizeChange: setCanvasSize,\n                onBackgroundChange: setBackgroundColor,\n                onOpenExportDialog: ()=>setIsExportDialogOpen(true),\n                onCopy: handleCopy\n            }, void 0, false, {\n                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                lineNumber: 275,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-64 bg-white border-r border-gray-200 flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4 border-b border-gray-200\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-lg font-semibold text-gray-900\",\n                                    children: \"素材工具\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                    lineNumber: 288,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                lineNumber: 287,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-4 space-y-2 border-b border-gray-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleToolChange(\"text\"),\n                                        className: \"w-full flex items-center gap-3 px-3 py-2 rounded-md \".concat(activeTool === \"text\" ? \"bg-blue-600 text-white\" : \"text-gray-700 hover:bg-gray-100\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.832.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                    lineNumber: 301,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                lineNumber: 300,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"文字\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                lineNumber: 303,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                        lineNumber: 292,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleToolChange(\"image\"),\n                                        className: \"w-full flex items-center gap-3 px-3 py-2 rounded-md \".concat(activeTool === \"image\" ? \"bg-blue-600 text-white\" : \"text-gray-700 hover:bg-gray-100\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                lineNumber: 313,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"图片\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                lineNumber: 316,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                        lineNumber: 305,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleToolChange(\"shape\"),\n                                        className: \"w-full flex items-center gap-3 px-3 py-2 rounded-md \".concat(activeTool === \"shape\" ? \"bg-blue-600 text-white\" : \"text-gray-700 hover:bg-gray-100\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM7 3H5a2 2 0 00-2 2v12a4 4 0 004 4h2a2 2 0 002-2V5a2 2 0 00-2-2H7zM21 9h-4a2 2 0 00-2 2v6a2 2 0 002 2h4a2 2 0 002-2v-6a2 2 0 00-2-2z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                    lineNumber: 327,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                lineNumber: 326,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"形状\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                                lineNumber: 329,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                        lineNumber: 318,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                lineNumber: 291,\n                                columnNumber: 11\n                            }, this),\n                            activeTool === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_AssetPanel_TextTab__WEBPACK_IMPORTED_MODULE_4__.TextTab, {\n                                onAddText: handleAddText\n                            }, void 0, false, {\n                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                lineNumber: 334,\n                                columnNumber: 37\n                            }, this),\n                            activeTool === \"image\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_AssetPanel_ImageTab__WEBPACK_IMPORTED_MODULE_5__.ImageTab, {\n                                onImageUpload: handleImageUpload\n                            }, void 0, false, {\n                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                lineNumber: 336,\n                                columnNumber: 38\n                            }, this),\n                            activeTool === \"shape\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_AssetPanel_ShapeTab__WEBPACK_IMPORTED_MODULE_6__.ShapeTab, {\n                                onShapeCreate: handleShapeCreate\n                            }, void 0, false, {\n                                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                                lineNumber: 338,\n                                columnNumber: 38\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                        lineNumber: 286,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_Canvas_Canvas__WEBPACK_IMPORTED_MODULE_2__.Canvas, {\n                            width: canvasSize.width,\n                            height: canvasSize.height,\n                            backgroundColor: canvasBackground,\n                            onCanvasReady: handleCanvasReady\n                        }, void 0, false, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                            lineNumber: 343,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                        lineNumber: 342,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_PropertyPanel_PropertyPanel__WEBPACK_IMPORTED_MODULE_7__.PropertyPanel, {\n                        canvas: canvasInstance\n                    }, void 0, false, {\n                        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                        lineNumber: 352,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                lineNumber: 284,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_ExportDialog__WEBPACK_IMPORTED_MODULE_11__.ExportDialog, {\n                isOpen: isExportDialogOpen,\n                onClose: ()=>setIsExportDialogOpen(false),\n                onExport: handleExport\n            }, void 0, false, {\n                fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n                lineNumber: 356,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/app/editor/page.tsx\",\n        lineNumber: 274,\n        columnNumber: 5\n    }, this);\n}\n_s(EditorPage, \"CIBNOYuulWByGxZj3Ih2cqnF0a8=\", false, function() {\n    return [\n        _hooks_useCanvas__WEBPACK_IMPORTED_MODULE_8__.useCanvas,\n        _components_ui_Toast__WEBPACK_IMPORTED_MODULE_10__.useToast,\n        _stores_canvasStore__WEBPACK_IMPORTED_MODULE_9__.useCanvasStore\n    ];\n});\n_c = EditorPage;\nvar _c;\n$RefreshReg$(_c, \"EditorPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZWRpdG9yL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUyQztBQUVlO0FBQ0c7QUFDRztBQUNFO0FBQ0E7QUFDYTtBQUNsQztBQUNRO0FBQ0w7QUFDOEI7QUFDNEY7QUFDL0c7QUFDTDtBQUNRO0FBQzhFO0FBRTdILFNBQVM0Qjs7SUFDdEIsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUc5QiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUMrQixnQkFBZ0JDLGtCQUFrQixHQUFHaEMsK0NBQVFBLENBQXVCO0lBQzNFLE1BQU0sQ0FBQ2lDLFVBQVVDLFlBQVksR0FBR2xDLCtDQUFRQSxDQUEyQztJQUNuRixNQUFNLENBQUNtQyxXQUFXQyxhQUFhLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNxQyxXQUFXQyxhQUFhLEdBQUd0QywrQ0FBUUEsQ0FBdUI7SUFDakUsTUFBTSxDQUFDdUMsZ0JBQWdCQyxrQkFBa0IsR0FBR3hDLCtDQUFRQSxDQUFrQztJQUN0RixNQUFNLENBQUN5QyxvQkFBb0JDLHNCQUFzQixHQUFHMUMsK0NBQVFBLENBQUM7SUFDN0QsTUFBTSxFQUFFMkMsU0FBUyxFQUFFQyxPQUFPLEVBQUUsR0FBR3BDLDJEQUFTQTtJQUN4QyxNQUFNcUMsUUFBUW5DLCtEQUFRQTtJQUV0Qix1QkFBdUI7SUFDdkIsTUFBTSxFQUFFb0MsV0FBVyxFQUFFQyxlQUFlLEVBQUVDLGFBQWEsRUFBRUMsa0JBQWtCLEVBQUUsR0FBR3hDLG1FQUFjQTtJQUUxRiw2REFBNkQ7SUFDN0QsTUFBTXlDLGFBQWFKLHdCQUFBQSx5QkFBQUEsY0FBZWxDLDZEQUFZLENBQUMsRUFBRTtJQUNqRCxNQUFNdUMsbUJBQW1CSiw0QkFBQUEsNkJBQUFBLGtCQUFtQjtJQUU1QyxNQUFNSyxvQkFBb0IsQ0FBQ0M7UUFDekJWLFVBQVVVO1FBQ1ZyQixrQkFBa0JxQjtRQUVsQix5QkFB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QUFTLElBQU14RixzQkFBc0I7Z0JBQ3JDeUYsVUFBVTFEOzs7Ozs7Ozs7Ozs7QUFJbEI7R0F0VndCN0M7O1FBUVNwQix1REFBU0E7UUFDMUJFLDJEQUFRQTtRQUdzREQsK0RBQWNBOzs7S0FacEVtQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL2VkaXRvci9wYWdlLnRzeD9lMzE1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnXG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tICdAL2NvbXBvbmVudHMvZWRpdG9yL0NhbnZhcy9DYW52YXMnXG5pbXBvcnQgeyBUb29sYmFyIH0gZnJvbSAnQC9jb21wb25lbnRzL2VkaXRvci9Ub29sYmFyL1Rvb2xiYXInXG5pbXBvcnQgeyBUZXh0VGFiIH0gZnJvbSAnQC9jb21wb25lbnRzL2VkaXRvci9Bc3NldFBhbmVsL1RleHRUYWInXG5pbXBvcnQgeyBJbWFnZVRhYiB9IGZyb20gJ0AvY29tcG9uZW50cy9lZGl0b3IvQXNzZXRQYW5lbC9JbWFnZVRhYidcbmltcG9ydCB7IFNoYXBlVGFiIH0gZnJvbSAnQC9jb21wb25lbnRzL2VkaXRvci9Bc3NldFBhbmVsL1NoYXBlVGFiJ1xuaW1wb3J0IHsgUHJvcGVydHlQYW5lbCB9IGZyb20gJ0AvY29tcG9uZW50cy9lZGl0b3IvUHJvcGVydHlQYW5lbC9Qcm9wZXJ0eVBhbmVsJ1xuaW1wb3J0IHsgdXNlQ2FudmFzIH0gZnJvbSAnQC9ob29rcy91c2VDYW52YXMnXG5pbXBvcnQgeyB1c2VDYW52YXNTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL2NhbnZhc1N0b3JlJ1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvVG9hc3QnXG5pbXBvcnQgeyBFeHBvcnREaWFsb2csIEV4cG9ydE9wdGlvbnMgfSBmcm9tICdAL2NvbXBvbmVudHMvZWRpdG9yL0V4cG9ydERpYWxvZydcbmltcG9ydCB7IENBTlZBU19TSVpFUywgZXhwb3J0Q2FudmFzLCBjb3B5VG9DbGlwYm9hcmQsIGRvd25sb2FkQ2FudmFzLCByZXNpemVDYW52YXMsIHNldENhbnZhc0JhY2tncm91bmQsIHJlc2V0Q2FudmFzVmlldywgZG93bmxvYWRDYW52YXNJbWFnZSB9IGZyb20gJ0AvbGliL2ZhYnJpYy9jYW52YXMnXG5pbXBvcnQgeyBERUZBVUxUX1RFWFRfUFJPUFMgfSBmcm9tICdAL2xpYi9jb25zdGFudHMvZWRpdG9yJ1xuaW1wb3J0IHsgY3JlYXRlSW1hZ2VPYmplY3QgfSBmcm9tICdAL2xpYi9mYWJyaWMvaW1hZ2UnXG5pbXBvcnQgeyB2YWxpZGF0ZUltYWdlRmlsZSB9IGZyb20gJ0AvbGliL3V0aWxzL2ZpbGVWYWxpZGF0aW9uJ1xuaW1wb3J0IHsgY3JlYXRlUmVjdGFuZ2xlLCBjcmVhdGVDaXJjbGUsIGNyZWF0ZUxpbmUsIHN0YXJ0RHJhZ0RyYXdTaGFwZSwgdXBkYXRlRHJhZ0RyYXdTaGFwZSwgZmluaXNoRHJhZ0RyYXdTaGFwZSB9IGZyb20gJ0AvbGliL2ZhYnJpYy9zaGFwZSdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWRpdG9yUGFnZSgpIHtcbiAgY29uc3QgW2FjdGl2ZVRvb2wsIHNldEFjdGl2ZVRvb2xdID0gdXNlU3RhdGUoJ3RleHQnKVxuICBjb25zdCBbY2FudmFzSW5zdGFuY2UsIHNldENhbnZhc0luc3RhbmNlXSA9IHVzZVN0YXRlPGZhYnJpYy5DYW52YXMgfCBudWxsPihudWxsKVxuICBjb25zdCBbZHJhd01vZGUsIHNldERyYXdNb2RlXSA9IHVzZVN0YXRlPCdub25lJyB8ICdyZWN0YW5nbGUnIHwgJ2NpcmNsZScgfCAnbGluZSc+KCdub25lJylcbiAgY29uc3QgW2lzRHJhd2luZywgc2V0SXNEcmF3aW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdGVtcFNoYXBlLCBzZXRUZW1wU2hhcGVdID0gdXNlU3RhdGU8ZmFicmljLk9iamVjdCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtkcmF3U3RhcnRQb2ludCwgc2V0RHJhd1N0YXJ0UG9pbnRdID0gdXNlU3RhdGU8eyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2lzRXhwb3J0RGlhbG9nT3Blbiwgc2V0SXNFeHBvcnREaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCB7IHNldENhbnZhcywgYWRkVGV4dCB9ID0gdXNlQ2FudmFzKClcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpXG5cbiAgLy8gR2V0IHN0YXRlIGZyb20gc3RvcmVcbiAgY29uc3QgeyBjdXJyZW50U2l6ZSwgYmFja2dyb3VuZENvbG9yLCBzZXRDYW52YXNTaXplLCBzZXRCYWNrZ3JvdW5kQ29sb3IgfSA9IHVzZUNhbnZhc1N0b3JlKClcblxuICAvLyBFbnN1cmUgd2UgYWx3YXlzIGhhdmUgc2FmZSB2YWx1ZXMgZm9yIGRvd25zdHJlYW0gY29uc3VtZXJzXG4gIGNvbnN0IGNhbnZhc1NpemUgPSBjdXJyZW50U2l6ZSA/PyBDQU5WQVNfU0laRVNbMF1cbiAgY29uc3QgY2FudmFzQmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvciA/PyAnI2ZmZmZmZidcblxuICBjb25zdCBoYW5kbGVDYW52YXNSZWFkeSA9IChjYW52YXM6IGZhYnJpYy5DYW52YXMpID0+IHtcbiAgICBzZXRDYW52YXMoY2FudmFzKVxuICAgIHNldENhbnZhc0luc3RhbmNlKGNhbnZhcylcblxuICAgIC8vIFN5bmMgY2FudmFzIHdpdGggc3RvcmVcbiAgICByZXNpemVDYW52YXMoY2FudmFzLCBjYW52YXNTaXplLCBmYWxzZSlcbiAgICBzZXRDYW52YXNCYWNrZ3JvdW5kKGNhbnZhcywgY2FudmFzQmFja2dyb3VuZClcbiAgfVxuXG4gIC8vIFdhdGNoIGZvciBzdG9yZSBjaGFuZ2VzIGFuZCB1cGRhdGUgY2FudmFzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjYW52YXNJbnN0YW5jZSB8fCAhY2FudmFzU2l6ZSkgcmV0dXJuXG5cbiAgICByZXNpemVDYW52YXMoY2FudmFzSW5zdGFuY2UsIGNhbnZhc1NpemUsIHRydWUpXG4gIH0sIFtjYW52YXNJbnN0YW5jZSwgY2FudmFzU2l6ZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNhbnZhc0luc3RhbmNlIHx8ICFjYW52YXNCYWNrZ3JvdW5kKSByZXR1cm5cblxuICAgIHNldENhbnZhc0JhY2tncm91bmQoY2FudmFzSW5zdGFuY2UsIGNhbnZhc0JhY2tncm91bmQpXG4gIH0sIFtjYW52YXNJbnN0YW5jZSwgY2FudmFzQmFja2dyb3VuZF0pXG5cbiAgY29uc3QgaGFuZGxlVG9vbENoYW5nZSA9ICh0b29sOiBzdHJpbmcpID0+IHtcbiAgICBzZXRBY3RpdmVUb29sKHRvb2wpXG4gIH1cblxuICBjb25zdCBoYW5kbGVBZGRUZXh0ID0gKCkgPT4ge1xuICAgIGFkZFRleHQoREVGQVVMVF9URVhUX1BST1BTKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VVcGxvYWQgPSBhc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICAgIGlmICghY2FudmFzSW5zdGFuY2UpIHtcbiAgICAgIHRvYXN0LmVycm9yKCfnlLvluIPmnKrliJ3lp4vljJYnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlSW1hZ2VGaWxlKGZpbGUsIHtcbiAgICAgIG1heFNpemU6IDEwICogMTAyNCAqIDEwMjQsIC8vIDEwTUJcbiAgICAgIGFsbG93ZWRUeXBlczogWydpbWFnZS9qcGVnJywgJ2ltYWdlL3BuZycsICdpbWFnZS93ZWJwJ10sXG4gICAgfSlcblxuICAgIGlmICghdmFsaWRhdGlvbi52YWxpZCkge1xuICAgICAgdG9hc3QuZXJyb3IodmFsaWRhdGlvbi5lcnJvciB8fCAn5paH5Lu25qCh6aqM5aSx6LSlJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbWFnZU9iamVjdCA9IGF3YWl0IGNyZWF0ZUltYWdlT2JqZWN0KGNhbnZhc0luc3RhbmNlLCBmaWxlLCB7XG4gICAgICAgIG1heFNpemU6IDgwMCxcbiAgICAgIH0pXG5cbiAgICAgIC8vIFN0b3JlIGZpbGUgc2l6ZSBmb3IgZGlzcGxheVxuICAgICAgOyhpbWFnZU9iamVjdCBhcyBhbnkpLmZpbGVTaXplID0gZmlsZS5zaXplXG5cbiAgICAgIHRvYXN0LnN1Y2Nlc3MoJ+WbvueJh+S4iuS8oOaIkOWKn++8gScpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRvYXN0LmVycm9yKCflm77niYfkuIrkvKDlpLHotKXvvIzor7fph43or5UnKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVNoYXBlQ3JlYXRlID0gKHNoYXBlVHlwZTogJ3JlY3RhbmdsZScgfCAnY2lyY2xlJyB8ICdsaW5lJykgPT4ge1xuICAgIGlmICghY2FudmFzSW5zdGFuY2UpIHtcbiAgICAgIHRvYXN0LmVycm9yKCfnlLvluIPmnKrliJ3lp4vljJYnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAoc2hhcGVUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3JlY3RhbmdsZSc6XG4gICAgICAgICAgY3JlYXRlUmVjdGFuZ2xlKGNhbnZhc0luc3RhbmNlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2NpcmNsZSc6XG4gICAgICAgICAgY3JlYXRlQ2lyY2xlKGNhbnZhc0luc3RhbmNlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgIGNyZWF0ZUxpbmUoY2FudmFzSW5zdGFuY2UpXG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3QuZXJyb3IoJ+W9oueKtuWIm+W7uuWksei0pe+8jOivt+mHjeivlScpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ29weSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNhbnZhc0luc3RhbmNlKSB7XG4gICAgICB0b2FzdC5lcnJvcign55S75biD5pyq5Yid5aeL5YyWJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhVXJsID0gZXhwb3J0Q2FudmFzKGNhbnZhc0luc3RhbmNlLCB7IGZvcm1hdDogJ3BuZycgfSlcbiAgICAgIGF3YWl0IGNvcHlUb0NsaXBib2FyZChkYXRhVXJsKVxuICAgICAgdG9hc3Quc3VjY2Vzcygn5Zu+54mH5bey5aSN5Yi25Yiw5Ymq6LS05p2/77yBJylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3QuZXJyb3IoJ+WkjeWItuWksei0pe+8jOivt+mHjeivlScpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRXhwb3J0ID0gKG9wdGlvbnM6IEV4cG9ydE9wdGlvbnMpID0+IHtcbiAgICBpZiAoIWNhbnZhc0luc3RhbmNlKSB7XG4gICAgICB0b2FzdC5lcnJvcign55S75biD5pyq5Yid5aeL5YyWJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBkb3dubG9hZENhbnZhc0ltYWdlKGNhbnZhc0luc3RhbmNlLCB7XG4gICAgICAgIGZvcm1hdDogb3B0aW9ucy5mb3JtYXQsXG4gICAgICAgIHF1YWxpdHk6IG9wdGlvbnMucXVhbGl0eSxcbiAgICAgICAgdHJhbnNwYXJlbnQ6IG9wdGlvbnMudHJhbnNwYXJlbnQsXG4gICAgICB9KVxuICAgICAgdG9hc3Quc3VjY2Vzcygn5a+85Ye65oiQ5YqfJylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3QuZXJyb3IoJ+WvvOWHuuWksei0pe+8jOivt+mHjeivlScpXG4gICAgfVxuICB9XG5cbiAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAvLyBPbmx5IHRyaWdnZXIgc2hvcnRjdXRzIHdoZW4gbm90IHR5cGluZyBpbiBhbiBpbnB1dFxuICAgICAgaWYgKFxuICAgICAgICBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgfHxcbiAgICAgICAgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50IHx8XG4gICAgICAgIChlLnRhcmdldCBhcyBhbnkpPy5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSBlLmtleS50b0xvd2VyQ2FzZSgpXG4gICAgICBpZiAoa2V5ID09PSAncicpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGhhbmRsZVNoYXBlQ3JlYXRlKCdyZWN0YW5nbGUnKVxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdvJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaGFuZGxlU2hhcGVDcmVhdGUoJ2NpcmNsZScpXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2wnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBoYW5kbGVTaGFwZUNyZWF0ZSgnbGluZScpXG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pXG4gICAgfVxuICB9LCBbY2FudmFzSW5zdGFuY2VdKVxuXG4gIC8vIOmHjee9ruinhuWbvuW/q+aNt+mUriAoQ3RybCswKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiBlLmtleSA9PT0gJzAnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICByZXNldENhbnZhc1ZpZXcoY2FudmFzSW5zdGFuY2UpXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ+inhuWbvuW3sumHjee9ricpXG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKVxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pXG4gIH0sIFtjYW52YXNJbnN0YW5jZSwgdG9hc3RdKVxuXG4gIC8vIOW9oueKtue7mOWItuW/q+aNt+mUriAoUi9PL0wpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAvLyDlpoLmnpzmraPlnKjnvJbovpHmlofmnKzvvIzkuI3op6blj5Hlv6vmjbfplK5cbiAgICAgIGlmICgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGUua2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgc2V0RHJhd01vZGUoJ3JlY3RhbmdsZScpXG4gICAgICAgICAgdG9hc3QuaW5mbygn55+p5b2i57uY5Yi25qih5byP77ya5Zyo55S75biD5LiK5ouW5ou957uY5Yi2JylcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdvJzpcbiAgICAgICAgICBzZXREcmF3TW9kZSgnY2lyY2xlJylcbiAgICAgICAgICB0b2FzdC5pbmZvKCflnIblvaLnu5jliLbmqKHlvI/vvJrlnKjnlLvluIPkuIrmi5bmi73nu5jliLYnKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2wnOlxuICAgICAgICAgIHNldERyYXdNb2RlKCdsaW5lJylcbiAgICAgICAgICB0b2FzdC5pbmZvKCfnm7Tnur/nu5jliLbmqKHlvI/vvJrlnKjnlLvluIPkuIrmi5bmi73nu5jliLYnKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2VzY2FwZSc6XG4gICAgICAgICAgaWYgKGRyYXdNb2RlICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHNldERyYXdNb2RlKCdub25lJylcbiAgICAgICAgICAgIHRvYXN0LmluZm8oJ+W3sumAgOWHuue7mOWItuaooeW8jycpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKVxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pXG4gIH0sIFtkcmF3TW9kZSwgdG9hc3RdKVxuXG4gIC8vIOeUu+W4g+e7mOWItuS6i+S7tuebkeWQrFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FudmFzSW5zdGFuY2UgfHwgZHJhd01vZGUgPT09ICdub25lJykgcmV0dXJuXG5cbiAgICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSAob3B0OiBmYWJyaWMuSUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwb2ludGVyID0gY2FudmFzSW5zdGFuY2UuZ2V0UG9pbnRlcihvcHQuZSlcbiAgICAgIHNldElzRHJhd2luZyh0cnVlKVxuICAgICAgc2V0RHJhd1N0YXJ0UG9pbnQocG9pbnRlcilcbiAgICAgIGNvbnN0IHNoYXBlID0gc3RhcnREcmFnRHJhd1NoYXBlKGNhbnZhc0luc3RhbmNlLCBkcmF3TW9kZSwgcG9pbnRlcilcbiAgICAgIHNldFRlbXBTaGFwZShzaGFwZSlcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVNb3VzZU1vdmUgPSAob3B0OiBmYWJyaWMuSUV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzRHJhd2luZyB8fCAhdGVtcFNoYXBlIHx8ICFkcmF3U3RhcnRQb2ludCkgcmV0dXJuXG4gICAgICBjb25zdCBwb2ludGVyID0gY2FudmFzSW5zdGFuY2UuZ2V0UG9pbnRlcihvcHQuZSlcbiAgICAgIHVwZGF0ZURyYWdEcmF3U2hhcGUodGVtcFNoYXBlLCBkcmF3TW9kZSwgZHJhd1N0YXJ0UG9pbnQsIHBvaW50ZXIpXG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlTW91c2VVcCA9ICgpID0+IHtcbiAgICAgIGlmICghaXNEcmF3aW5nIHx8ICF0ZW1wU2hhcGUpIHJldHVyblxuICAgICAgZmluaXNoRHJhZ0RyYXdTaGFwZShjYW52YXNJbnN0YW5jZSwgdGVtcFNoYXBlLCBkcmF3TW9kZSlcbiAgICAgIHNldElzRHJhd2luZyhmYWxzZSlcbiAgICAgIHNldFRlbXBTaGFwZShudWxsKVxuICAgICAgc2V0RHJhd1N0YXJ0UG9pbnQobnVsbClcbiAgICAgIHNldERyYXdNb2RlKCdub25lJylcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoJ+W9oueKtuW3suWIm+W7uicpXG4gICAgfVxuXG4gICAgY2FudmFzSW5zdGFuY2Uub24oJ21vdXNlOmRvd24nLCBoYW5kbGVNb3VzZURvd24pXG4gICAgY2FudmFzSW5zdGFuY2Uub24oJ21vdXNlOm1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpXG4gICAgY2FudmFzSW5zdGFuY2Uub24oJ21vdXNlOnVwJywgaGFuZGxlTW91c2VVcClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW52YXNJbnN0YW5jZS5vZmYoJ21vdXNlOmRvd24nLCBoYW5kbGVNb3VzZURvd24pXG4gICAgICBjYW52YXNJbnN0YW5jZS5vZmYoJ21vdXNlOm1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpXG4gICAgICBjYW52YXNJbnN0YW5jZS5vZmYoJ21vdXNlOnVwJywgaGFuZGxlTW91c2VVcClcbiAgICB9XG4gIH0sIFtjYW52YXNJbnN0YW5jZSwgZHJhd01vZGUsIGlzRHJhd2luZywgdGVtcFNoYXBlLCBkcmF3U3RhcnRQb2ludCwgdG9hc3RdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLXNjcmVlbiBmbGV4IGZsZXgtY29sXCI+XG4gICAgICA8VG9vbGJhclxuICAgICAgICBzaXplcz17Q0FOVkFTX1NJWkVTfVxuICAgICAgICBjdXJyZW50U2l6ZT17Y2FudmFzU2l6ZX1cbiAgICAgICAgY3VycmVudEJhY2tncm91bmQ9e2NhbnZhc0JhY2tncm91bmR9XG4gICAgICAgIG9uU2l6ZUNoYW5nZT17c2V0Q2FudmFzU2l6ZX1cbiAgICAgICAgb25CYWNrZ3JvdW5kQ2hhbmdlPXtzZXRCYWNrZ3JvdW5kQ29sb3J9XG4gICAgICAgIG9uT3BlbkV4cG9ydERpYWxvZz17KCkgPT4gc2V0SXNFeHBvcnREaWFsb2dPcGVuKHRydWUpfVxuICAgICAgICBvbkNvcHk9e2hhbmRsZUNvcHl9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgey8qIExlZnQgU2lkZWJhciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTY0IGJnLXdoaXRlIGJvcmRlci1yIGJvcmRlci1ncmF5LTIwMCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj7ntKDmnZDlt6Xlhbc8L2gyPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS0yIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUb29sQ2hhbmdlKCd0ZXh0Jyl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgcm91bmRlZC1tZCAke1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRvb2wgPT09ICd0ZXh0J1xuICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZSdcbiAgICAgICAgICAgICAgICAgIDogJ3RleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTIgNi4yNTN2MTNtMC0xM0MxMC44MzIgNS40NzcgOS4yNDYgNSA3LjUgNVM0LjE2OCA1LjQ3NyAzIDYuMjUzdjEzQzQuMTY4IDE4LjQ3NyA1Ljc1NCAxOCA3LjUgMThzMy44MzIuNDc3IDQuNSAxLjI1M20wLTEzQzEzLjE2OCA1LjQ3NyAxNC43NTQgNSAxNi41IDVjMS43NDcgMCAzLjMzMi40NzcgNC41IDEuMjUzdjEzQzE5LjgzMiAxOC40NzcgMTguMjQ3IDE4IDE2LjUgMThjLTEuNzQ2IDAtMy4zMzIuNDc3LTQuNSAxLjI1M1wiIC8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8c3Bhbj7mloflrZc8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVG9vbENoYW5nZSgnaW1hZ2UnKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMgcHktMiByb3VuZGVkLW1kICR7XG4gICAgICAgICAgICAgICAgYWN0aXZlVG9vbCA9PT0gJ2ltYWdlJ1xuICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS02MDAgdGV4dC13aGl0ZSdcbiAgICAgICAgICAgICAgICAgIDogJ3RleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCAxNmw0LjU4Ni00LjU4NmEyIDIgMCAwMTIuODI4IDBMMTYgMTZtLTItMmwxLjU4Ni0xLjU4NmEyIDIgMCAwMTIuODI4IDBMMjAgMTRtLTYtNmguMDFNNiAyMGgxMmEyIDIgMCAwMDItMlY2YTIgMiAwIDAwLTItMkg2YTIgMiAwIDAwLTIgMnYxMmEyIDIgMCAwMDIgMnpcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPHNwYW4+5Zu+54mHPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRvb2xDaGFuZ2UoJ3NoYXBlJyl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIgcm91bmRlZC1tZCAke1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRvb2wgPT09ICdzaGFwZSdcbiAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNjAwIHRleHQtd2hpdGUnXG4gICAgICAgICAgICAgICAgICA6ICd0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTcgMjFhNCA0IDAgMDEtNC00VjVhMiAyIDAgMDEyLTJoNGEyIDIgMCAwMTIgMnYxMmE0IDQgMCAwMS00IDR6TTcgM0g1YTIgMiAwIDAwLTIgMnYxMmE0IDQgMCAwMDQgNGgyYTIgMiAwIDAwMi0yVjVhMiAyIDAgMDAtMi0ySDd6TTIxIDloLTRhMiAyIDAgMDAtMiAydjZhMiAyIDAgMDAyIDJoNGEyIDIgMCAwMDItMnYtNmEyIDIgMCAwMC0yLTJ6XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDxzcGFuPuW9oueKtjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFRvb2wtc3BlY2lmaWMgY29udGVudCAqL31cbiAgICAgICAgICB7YWN0aXZlVG9vbCA9PT0gJ3RleHQnICYmIDxUZXh0VGFiIG9uQWRkVGV4dD17aGFuZGxlQWRkVGV4dH0gLz59XG5cbiAgICAgICAgICB7YWN0aXZlVG9vbCA9PT0gJ2ltYWdlJyAmJiA8SW1hZ2VUYWIgb25JbWFnZVVwbG9hZD17aGFuZGxlSW1hZ2VVcGxvYWR9IC8+fVxuXG4gICAgICAgICAge2FjdGl2ZVRvb2wgPT09ICdzaGFwZScgJiYgPFNoYXBlVGFiIG9uU2hhcGVDcmVhdGU9e2hhbmRsZVNoYXBlQ3JlYXRlfSAvPn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIENhbnZhcyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICA8Q2FudmFzXG4gICAgICAgICAgICB3aWR0aD17Y2FudmFzU2l6ZS53aWR0aH1cbiAgICAgICAgICAgIGhlaWdodD17Y2FudmFzU2l6ZS5oZWlnaHR9XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9e2NhbnZhc0JhY2tncm91bmR9XG4gICAgICAgICAgICBvbkNhbnZhc1JlYWR5PXtoYW5kbGVDYW52YXNSZWFkeX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUmlnaHQgU2lkZWJhciAqL31cbiAgICAgICAgPFByb3BlcnR5UGFuZWwgY2FudmFzPXtjYW52YXNJbnN0YW5jZX0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7Lyog5a+85Ye66K6+572u5by556qXICovfVxuICAgICAgPEV4cG9ydERpYWxvZ1xuICAgICAgICBpc09wZW49e2lzRXhwb3J0RGlhbG9nT3Blbn1cbiAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNFeHBvcnREaWFsb2dPcGVuKGZhbHNlKX1cbiAgICAgICAgb25FeHBvcnQ9e2hhbmRsZUV4cG9ydH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkNhbnZhcyIsIlRvb2xiYXIiLCJUZXh0VGFiIiwiSW1hZ2VUYWIiLCJTaGFwZVRhYiIsIlByb3BlcnR5UGFuZWwiLCJ1c2VDYW52YXMiLCJ1c2VDYW52YXNTdG9yZSIsInVzZVRvYXN0IiwiRXhwb3J0RGlhbG9nIiwiQ0FOVkFTX1NJWkVTIiwiZXhwb3J0Q2FudmFzIiwiY29weVRvQ2xpcGJvYXJkIiwicmVzaXplQ2FudmFzIiwic2V0Q2FudmFzQmFja2dyb3VuZCIsInJlc2V0Q2FudmFzVmlldyIsImRvd25sb2FkQ2FudmFzSW1hZ2UiLCJERUZBVUxUX1RFWFRfUFJPUFMiLCJjcmVhdGVJbWFnZU9iamVjdCIsInZhbGlkYXRlSW1hZ2VGaWxlIiwiY3JlYXRlUmVjdGFuZ2xlIiwiY3JlYXRlQ2lyY2xlIiwiY3JlYXRlTGluZSIsInN0YXJ0RHJhZ0RyYXdTaGFwZSIsInVwZGF0ZURyYWdEcmF3U2hhcGUiLCJmaW5pc2hEcmFnRHJhd1NoYXBlIiwiRWRpdG9yUGFnZSIsImFjdGl2ZVRvb2wiLCJzZXRBY3RpdmVUb29sIiwiY2FudmFzSW5zdGFuY2UiLCJzZXRDYW52YXNJbnN0YW5jZSIsImRyYXdNb2RlIiwic2V0RHJhd01vZGUiLCJpc0RyYXdpbmciLCJzZXRJc0RyYXdpbmciLCJ0ZW1wU2hhcGUiLCJzZXRUZW1wU2hhcGUiLCJkcmF3U3RhcnRQb2ludCIsInNldERyYXdTdGFydFBvaW50IiwiaXNFeHBvcnREaWFsb2dPcGVuIiwic2V0SXNFeHBvcnREaWFsb2dPcGVuIiwic2V0Q2FudmFzIiwiYWRkVGV4dCIsInRvYXN0IiwiY3VycmVudFNpemUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzZXRDYW52YXNTaXplIiwic2V0QmFja2dyb3VuZENvbG9yIiwiY2FudmFzU2l6ZSIsImNhbnZhc0JhY2tncm91bmQiLCJoYW5kbGVDYW52YXNSZWFkeSIsImNhbnZhcyIsImhhbmRsZVRvb2xDaGFuZ2UiLCJ0b29sIiwiaGFuZGxlQWRkVGV4dCIsImhhbmRsZUltYWdlVXBsb2FkIiwiZmlsZSIsImVycm9yIiwidmFsaWRhdGlvbiIsIm1heFNpemUiLCJhbGxvd2VkVHlwZXMiLCJ2YWxpZCIsImltYWdlT2JqZWN0IiwiZmlsZVNpemUiLCJzaXplIiwic3VjY2VzcyIsImhhbmRsZVNoYXBlQ3JlYXRlIiwic2hhcGVUeXBlIiwiaGFuZGxlQ29weSIsImRhdGFVcmwiLCJmb3JtYXQiLCJoYW5kbGVFeHBvcnQiLCJvcHRpb25zIiwicXVhbGl0eSIsInRyYW5zcGFyZW50IiwiaGFuZGxlS2V5RG93biIsImUiLCJ0YXJnZXQiLCJIVE1MSW5wdXRFbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCIsImNvbnRlbnRFZGl0YWJsZSIsImtleSIsInRvTG93ZXJDYXNlIiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImN0cmxLZXkiLCJtZXRhS2V5IiwidGFnTmFtZSIsImluZm8iLCJoYW5kbGVNb3VzZURvd24iLCJvcHQiLCJwb2ludGVyIiwiZ2V0UG9pbnRlciIsInNoYXBlIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlTW91c2VVcCIsIm9uIiwib2ZmIiwiZGl2IiwiY2xhc3NOYW1lIiwic2l6ZXMiLCJjdXJyZW50QmFja2dyb3VuZCIsIm9uU2l6ZUNoYW5nZSIsIm9uQmFja2dyb3VuZENoYW5nZSIsIm9uT3BlbkV4cG9ydERpYWxvZyIsIm9uQ29weSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsInN2ZyIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsInNwYW4iLCJvbkFkZFRleHQiLCJvbkltYWdlVXBsb2FkIiwib25TaGFwZUNyZWF0ZSIsIndpZHRoIiwiaGVpZ2h0Iiwib25DYW52YXNSZWFkeSIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvbkV4cG9ydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/editor/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/editor/ExportDialog.tsx":
/*!************************************************!*\
  !*** ./src/components/editor/ExportDialog.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExportDialog: function() { return /* binding */ ExportDialog; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ ExportDialog auto */ \nvar _s = $RefreshSig$();\n\nfunction ExportDialog(param) {\n    let { isOpen, onClose, onExport } = param;\n    _s();\n    const [format, setFormat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"png\");\n    const [quality, setQuality] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [transparent, setTransparent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    if (!isOpen) return null;\n    const handleExport = ()=>{\n        onExport({\n            format,\n            quality,\n            transparent\n        });\n        onClose();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl p-6 w-96\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-bold mb-4\",\n                    children: \"导出设置\"\n                }, void 0, false, {\n                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"block text-sm font-medium mb-2\",\n                            children: \"导出格式\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 36,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setFormat(\"png\"),\n                                    className: \"flex-1 px-4 py-2 rounded \".concat(format === \"png\" ? \"bg-blue-500 text-white\" : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"),\n                                    children: \"PNG\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                                    lineNumber: 38,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setFormat(\"jpeg\"),\n                                    className: \"flex-1 px-4 py-2 rounded \".concat(format === \"jpeg\" ? \"bg-blue-500 text-white\" : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"),\n                                    children: \"JPEG\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                                    lineNumber: 48,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 37,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                    lineNumber: 35,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"block text-sm font-medium mb-2\",\n                            children: \"导出质量\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 63,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex gap-2\",\n                            children: [\n                                1,\n                                2,\n                                3\n                            ].map((q)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setQuality(q),\n                                    className: \"flex-1 px-4 py-2 rounded \".concat(quality === q ? \"bg-blue-500 text-white\" : \"bg-gray-200 text-gray-700 hover:bg-gray-300\"),\n                                    children: [\n                                        q,\n                                        \"x\"\n                                    ]\n                                }, q, true, {\n                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                                    lineNumber: 66,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 64,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xs text-gray-500 mt-1\",\n                            children: [\n                                quality === 1 && \"标准质量（适合网页）\",\n                                quality === 2 && \"高质量（适合打印）\",\n                                quality === 3 && \"超高质量（适合专业用途）\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                    lineNumber: 62,\n                    columnNumber: 9\n                }, this),\n                format === \"png\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    checked: transparent,\n                                    onChange: (e)=>setTransparent(e.target.checked),\n                                    className: \"mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                                    lineNumber: 90,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium\",\n                                    children: \"透明背景\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                                    lineNumber: 96,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 89,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xs text-gray-500 mt-1\",\n                            children: \"导出时移除画布背景色\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 98,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                    lineNumber: 88,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-2 mt-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300\",\n                            children: \"取消\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 106,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleExport,\n                            className: \"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n                            children: \"导出\"\n                        }, void 0, false, {\n                            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                            lineNumber: 112,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n                    lineNumber: 105,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n            lineNumber: 31,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/zorro/Documents/AI编程项目文件/cover-craft/apps/web/src/components/editor/ExportDialog.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, this);\n}\n_s(ExportDialog, \"DwmK1UadYaPjlMdY3gGpsdCHm8M=\");\n_c = ExportDialog;\nvar _c;\n$RefreshReg$(_c, \"ExportDialog\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2VkaXRvci9FeHBvcnREaWFsb2cudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVnQztBQWN6QixTQUFTQyxhQUFhLEtBQWdEO1FBQWhELEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxRQUFRLEVBQXFCLEdBQWhEOztJQUMzQixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR04sK0NBQVFBLENBQWlCO0lBQ3JELE1BQU0sQ0FBQ08sU0FBU0MsV0FBVyxHQUFHUiwrQ0FBUUEsQ0FBWTtJQUNsRCxNQUFNLENBQUNTLGFBQWFDLGVBQWUsR0FBR1YsK0NBQVFBLENBQUM7SUFFL0MsSUFBSSxDQUFDRSxRQUFRLE9BQU87SUFFcEIsTUFBTVMsZUFBZTtRQUNuQlAsU0FBUztZQUFFQztZQUFRRTtZQUFTRTtRQUFZO1FBQ3hDTjtJQUNGO0lBRUEscUJBQ0UsOERBQUNTO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNEO1lBQUlDLFdBQVU7OzhCQUNiLDhEQUFDQztvQkFBR0QsV0FBVTs4QkFBeUI7Ozs7Ozs4QkFHdkMsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0U7NEJBQU1GLFdBQVU7c0NBQWlDOzs7Ozs7c0NBQ2xELDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNHO29DQUNDQyxTQUFTLElBQU1YLFVBQVU7b0NBQ3pCTyxXQUFXLDRCQUlWLE9BSENSLFdBQVcsUUFDUCwyQkFDQTs4Q0FFUDs7Ozs7OzhDQUdELDhEQUFDVztvQ0FDQ0MsU0FBUyxJQUFNWCxVQUFVO29DQUN6Qk8sV0FBVyw0QkFJVixPQUhDUixXQUFXLFNBQ1AsMkJBQ0E7OENBRVA7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFPTCw4REFBQ087b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRTs0QkFBTUYsV0FBVTtzQ0FBaUM7Ozs7OztzQ0FDbEQsOERBQUNEOzRCQUFJQyxXQUFVO3NDQUNaO2dDQUFDO2dDQUFHO2dDQUFHOzZCQUFFLENBQUNLLEdBQUcsQ0FBQyxDQUFDQyxrQkFDZCw4REFBQ0g7b0NBRUNDLFNBQVMsSUFBTVQsV0FBV1c7b0NBQzFCTixXQUFXLDRCQUlWLE9BSENOLFlBQVlZLElBQ1IsMkJBQ0E7O3dDQUdMQTt3Q0FBRTs7bUNBUkVBOzs7Ozs7Ozs7O3NDQVlYLDhEQUFDQzs0QkFBRVAsV0FBVTs7Z0NBQ1ZOLFlBQVksS0FBSztnQ0FDakJBLFlBQVksS0FBSztnQ0FDakJBLFlBQVksS0FBSzs7Ozs7Ozs7Ozs7OztnQkFLckJGLFdBQVcsdUJBQ1YsOERBQUNPO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0U7NEJBQU1GLFdBQVU7OzhDQUNmLDhEQUFDUTtvQ0FDQ0MsTUFBSztvQ0FDTEMsU0FBU2Q7b0NBQ1RlLFVBQVUsQ0FBQ0MsSUFBTWYsZUFBZWUsRUFBRUMsTUFBTSxDQUFDSCxPQUFPO29DQUNoRFYsV0FBVTs7Ozs7OzhDQUVaLDhEQUFDYztvQ0FBS2QsV0FBVTs4Q0FBc0I7Ozs7Ozs7Ozs7OztzQ0FFeEMsOERBQUNPOzRCQUFFUCxXQUFVO3NDQUE2Qjs7Ozs7Ozs7Ozs7OzhCQU85Qyw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRzs0QkFDQ0MsU0FBU2Q7NEJBQ1RVLFdBQVU7c0NBQ1g7Ozs7OztzQ0FHRCw4REFBQ0c7NEJBQ0NDLFNBQVNOOzRCQUNURSxXQUFVO3NDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9YO0dBekdnQlo7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvZWRpdG9yL0V4cG9ydERpYWxvZy50c3g/MDE2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGludGVyZmFjZSBFeHBvcnRPcHRpb25zIHtcbiAgZm9ybWF0OiAncG5nJyB8ICdqcGVnJ1xuICBxdWFsaXR5OiAxIHwgMiB8IDNcbiAgdHJhbnNwYXJlbnQ6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIEV4cG9ydERpYWxvZ1Byb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWRcbiAgb25FeHBvcnQ6IChvcHRpb25zOiBFeHBvcnRPcHRpb25zKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeHBvcnREaWFsb2coeyBpc09wZW4sIG9uQ2xvc2UsIG9uRXhwb3J0IH06IEV4cG9ydERpYWxvZ1Byb3BzKSB7XG4gIGNvbnN0IFtmb3JtYXQsIHNldEZvcm1hdF0gPSB1c2VTdGF0ZTwncG5nJyB8ICdqcGVnJz4oJ3BuZycpXG4gIGNvbnN0IFtxdWFsaXR5LCBzZXRRdWFsaXR5XSA9IHVzZVN0YXRlPDEgfCAyIHwgMz4oMSlcbiAgY29uc3QgW3RyYW5zcGFyZW50LCBzZXRUcmFuc3BhcmVudF0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGxcblxuICBjb25zdCBoYW5kbGVFeHBvcnQgPSAoKSA9PiB7XG4gICAgb25FeHBvcnQoeyBmb3JtYXQsIHF1YWxpdHksIHRyYW5zcGFyZW50IH0pXG4gICAgb25DbG9zZSgpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrIGJnLW9wYWNpdHktNTBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgcC02IHctOTZcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTRcIj7lr7zlh7rorr7nva48L2gyPlxuXG4gICAgICAgIHsvKiDmoLzlvI/pgInmi6kgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIG1iLTJcIj7lr7zlh7rmoLzlvI88L2xhYmVsPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRGb3JtYXQoJ3BuZycpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcHgtNCBweS0yIHJvdW5kZWQgJHtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPT09ICdwbmcnXG4gICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFBOR1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZvcm1hdCgnanBlZycpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcHgtNCBweS0yIHJvdW5kZWQgJHtcbiAgICAgICAgICAgICAgICBmb3JtYXQgPT09ICdqcGVnJ1xuICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZSdcbiAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMjAwIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0zMDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBKUEVHXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIOi0qOmHj+mAieaLqSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gbWItMlwiPuWvvOWHuui0qOmHjzwvbGFiZWw+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICB7WzEsIDIsIDNdLm1hcCgocSkgPT4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtxfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFF1YWxpdHkocSBhcyAxIHwgMiB8IDMpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBweC00IHB5LTIgcm91bmRlZCAke1xuICAgICAgICAgICAgICAgICAgcXVhbGl0eSA9PT0gcVxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3F9eFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xXCI+XG4gICAgICAgICAgICB7cXVhbGl0eSA9PT0gMSAmJiAn5qCH5YeG6LSo6YeP77yI6YCC5ZCI572R6aG177yJJ31cbiAgICAgICAgICAgIHtxdWFsaXR5ID09PSAyICYmICfpq5jotKjph4/vvIjpgILlkIjmiZPljbDvvIknfVxuICAgICAgICAgICAge3F1YWxpdHkgPT09IDMgJiYgJ+i2hemrmOi0qOmHj++8iOmAguWQiOS4k+S4mueUqOmAlO+8iSd9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyog6YCP5piO6IOM5pmv6YCJ6aG577yI5LuFIFBOR++8iSAqL31cbiAgICAgICAge2Zvcm1hdCA9PT0gJ3BuZycgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17dHJhbnNwYXJlbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUcmFuc3BhcmVudChlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPumAj+aYjuiDjOaZrzwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMVwiPlxuICAgICAgICAgICAgICDlr7zlh7rml7bnp7vpmaTnlLvluIPog4zmma/oibJcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7Lyog5pON5L2c5oyJ6ZKuICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgbXQtNlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNCBweS0yIGJnLWdyYXktMjAwIHRleHQtZ3JheS03MDAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTMwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAg5Y+W5raIXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRXhwb3J0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTQgcHktMiBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS02MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOWvvOWHulxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJFeHBvcnREaWFsb2ciLCJpc09wZW4iLCJvbkNsb3NlIiwib25FeHBvcnQiLCJmb3JtYXQiLCJzZXRGb3JtYXQiLCJxdWFsaXR5Iiwic2V0UXVhbGl0eSIsInRyYW5zcGFyZW50Iiwic2V0VHJhbnNwYXJlbnQiLCJoYW5kbGVFeHBvcnQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImxhYmVsIiwiYnV0dG9uIiwib25DbGljayIsIm1hcCIsInEiLCJwIiwiaW5wdXQiLCJ0eXBlIiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/editor/ExportDialog.tsx\n"));

/***/ })

});