"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/editor/page",{

/***/ "(app-pages-browser)/./src/lib/fabric/canvas.ts":
/*!**********************************!*\
  !*** ./src/lib/fabric/canvas.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CANVAS_SIZES: function() { return /* binding */ CANVAS_SIZES; },\n/* harmony export */   DEFAULT_BACKGROUNDS: function() { return /* binding */ DEFAULT_BACKGROUNDS; },\n/* harmony export */   copyToClipboard: function() { return /* binding */ copyToClipboard; },\n/* harmony export */   createCanvas: function() { return /* binding */ createCanvas; },\n/* harmony export */   downloadCanvas: function() { return /* binding */ downloadCanvas; },\n/* harmony export */   downloadCanvasImage: function() { return /* binding */ downloadCanvasImage; },\n/* harmony export */   exportCanvas: function() { return /* binding */ exportCanvas; },\n/* harmony export */   exportCanvasImage: function() { return /* binding */ exportCanvasImage; },\n/* harmony export */   panCanvas: function() { return /* binding */ panCanvas; },\n/* harmony export */   resetCanvasView: function() { return /* binding */ resetCanvasView; },\n/* harmony export */   resizeCanvas: function() { return /* binding */ resizeCanvas; },\n/* harmony export */   setCanvasBackground: function() { return /* binding */ setCanvasBackground; },\n/* harmony export */   setCanvasZoom: function() { return /* binding */ setCanvasZoom; }\n/* harmony export */ });\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"(app-pages-browser)/./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/logger */ \"(app-pages-browser)/./src/lib/utils/logger.ts\");\n\n\nconst CANVAS_SIZES = [\n    {\n        width: 1080,\n        height: 1440,\n        label: \"3:4\",\n        ratio: \"3:4\"\n    },\n    {\n        width: 1080,\n        height: 1080,\n        label: \"1:1\",\n        ratio: \"1:1\"\n    },\n    {\n        width: 1080,\n        height: 810,\n        label: \"4:3\",\n        ratio: \"4:3\"\n    },\n    {\n        width: 1080,\n        height: 462,\n        label: \"21:9\",\n        ratio: \"21:9\"\n    }\n];\nconst DEFAULT_BACKGROUNDS = [\n    \"#ffffff\",\n    \"#000000\",\n    \"#f0f0f0\",\n    \"#e0e0e0\",\n    \"#d0d0d0\",\n    \"#c0c0c0\"\n];\nfunction createCanvas(canvasElement, config) {\n    const canvas = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Canvas(canvasElement, {\n        width: config.size.width,\n        height: config.size.height,\n        backgroundColor: config.backgroundColor\n    });\n    // Enable object caching for better performance\n    // @ts-ignore - objectCaching property\n    canvas.objectCaching = true;\n    // Set default controls\n    fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Object.prototype.set({\n        transparentCorners: false,\n        cornerColor: \"#3b82f6\",\n        cornerStyle: \"circle\",\n        borderColor: \"#3b82f6\",\n        borderScaleFactor: 2\n    });\n    return canvas;\n}\nfunction resizeCanvas(canvas, size) {\n    let preserveContent = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return;\n    }\n    if (!size || typeof size.width !== \"number\" || typeof size.height !== \"number\") {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Invalid canvas size provided to resizeCanvas\");\n        return;\n    }\n    const oldWidth = canvas.getWidth();\n    const oldHeight = canvas.getHeight();\n    canvas.setDimensions({\n        width: size.width,\n        height: size.height\n    });\n    if (preserveContent) {\n        const scaleX = size.width / oldWidth;\n        const scaleY = size.height / oldHeight;\n        const objects = canvas.getObjects();\n        objects.forEach((obj)=>{\n            obj.scaleX = (obj.scaleX || 1) * scaleX;\n            obj.scaleY = (obj.scaleY || 1) * scaleY;\n            obj.left = (obj.left || 0) * scaleX;\n            obj.top = (obj.top || 0) * scaleY;\n            obj.setCoords();\n        });\n    }\n    canvas.renderAll();\n}\nfunction setCanvasBackground(canvas, color) {\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return;\n    }\n    canvas.setBackgroundColor(color, ()=>{\n        canvas.renderAll();\n    });\n}\nfunction exportCanvas(canvas) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return \"\";\n    }\n    const { format = \"png\", quality = 1, multiplier = 1, enableRetinaScaling = true } = options;\n    return canvas.toDataURL({\n        format: \"image/\".concat(format),\n        quality,\n        multiplier,\n        enableRetinaScaling\n    });\n}\nfunction copyToClipboard(dataUrl) {\n    return new Promise((resolve, reject)=>{\n        if (navigator.clipboard && typeof window.fetch === \"function\") {\n            fetch(dataUrl).then((res)=>res.blob()).then((blob)=>{\n                const item = new ClipboardItem({\n                    [blob.type]: blob\n                });\n                navigator.clipboard.write([\n                    item\n                ]);\n                resolve();\n            }).catch(reject);\n        } else {\n            reject(new Error(\"Clipboard API not supported\"));\n        }\n    });\n}\nfunction downloadCanvas(canvas) {\n    let filename = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"cover-\".concat(Date.now(), \".png\"), format = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"png\";\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return;\n    }\n    const dataUrl = exportCanvas(canvas, {\n        format\n    });\n    const link = document.createElement(\"a\");\n    link.download = filename;\n    link.href = dataUrl;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n}\n/**\n * 设置画布缩放级别\n * @param canvas Fabric.js Canvas 实例\n * @param zoom 缩放级别（1 = 100%）\n * @param point 缩放中心点（可选，默认为画布中心）\n */ function setCanvasZoom(canvas, zoom, point) {\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return;\n    }\n    // 限制缩放范围 0.1x - 5x\n    const clampedZoom = Math.max(0.1, Math.min(5, zoom));\n    if (point) {\n        canvas.zoomToPoint(new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Point(point.x, point.y), clampedZoom);\n    } else {\n        canvas.setZoom(clampedZoom);\n    }\n    canvas.requestRenderAll();\n}\n/**\n * 重置画布视图（100% 缩放，居中）\n * @param canvas Fabric.js Canvas 实例\n */ function resetCanvasView(canvas) {\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return;\n    }\n    canvas.setViewportTransform([\n        1,\n        0,\n        0,\n        1,\n        0,\n        0\n    ]);\n    canvas.requestRenderAll();\n}\n/**\n * 平移画布视图\n * @param canvas Fabric.js Canvas 实例\n * @param deltaX X 轴偏移量\n * @param deltaY Y 轴偏移量\n */ function panCanvas(canvas, deltaX, deltaY) {\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return;\n    }\n    const vpt = canvas.viewportTransform;\n    if (vpt) {\n        vpt[4] += deltaX;\n        vpt[5] += deltaY;\n        canvas.requestRenderAll();\n    }\n}\n/**\n * 导出画布为图片（支持倍率和透明背景）\n * @param canvas Fabric.js Canvas 实例\n * @param options 导出选项\n * @returns DataURL 字符串\n */ function exportCanvasImage(canvas) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    if (!canvas) {\n        _lib_utils_logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Canvas is not initialized\");\n        return null;\n    }\n    const { format = \"png\", quality = 1, transparent = false } = options;\n    // 保存原始背景色\n    const originalBgColor = canvas.backgroundColor;\n    // 如果需要透明背景，临时移除背景色\n    if (transparent && format === \"png\") {\n        canvas.backgroundColor = \"\";\n    }\n    // 导出图片\n    const dataURL = canvas.toDataURL({\n        format: format === \"jpeg\" ? \"jpeg\" : \"png\",\n        quality: 1,\n        multiplier: quality\n    });\n    // 恢复原始背景色\n    if (transparent && format === \"png\") {\n        canvas.backgroundColor = originalBgColor;\n        canvas.requestRenderAll();\n    }\n    return dataURL;\n}\n/**\n * 下载画布为图片文件\n * @param canvas Fabric.js Canvas 实例\n * @param options 导出选项\n */ function downloadCanvasImage(canvas) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const dataURL = exportCanvasImage(canvas, options);\n    if (!dataURL) return;\n    const { format = \"png\", filename } = options;\n    // 生成文件名：cover-YYYYMMDD-HHMMSS.png\n    const now = new Date();\n    const timestamp = now.toISOString().replace(/[-:]/g, \"\").replace(\"T\", \"-\").slice(0, 15);\n    const defaultFilename = \"cover-\".concat(timestamp, \".\").concat(format);\n    // 创建下载链接\n    const link = document.createElement(\"a\");\n    link.download = filename || defaultFilename;\n    link.href = dataURL;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmFicmljL2NhbnZhcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQ1k7QUFHcEMsTUFBTUUsZUFBNkI7SUFDeEM7UUFBRUMsT0FBTztRQUFNQyxRQUFRO1FBQU1DLE9BQU87UUFBT0MsT0FBTztJQUFNO0lBQ3hEO1FBQUVILE9BQU87UUFBTUMsUUFBUTtRQUFNQyxPQUFPO1FBQU9DLE9BQU87SUFBTTtJQUN4RDtRQUFFSCxPQUFPO1FBQU1DLFFBQVE7UUFBS0MsT0FBTztRQUFPQyxPQUFPO0lBQU07SUFDdkQ7UUFBRUgsT0FBTztRQUFNQyxRQUFRO1FBQUtDLE9BQU87UUFBUUMsT0FBTztJQUFPO0NBQzFEO0FBRU0sTUFBTUMsc0JBQXNCO0lBQ2pDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRU0sU0FBU0MsYUFDZEMsYUFBZ0MsRUFDaENDLE1BQW9CO0lBRXBCLE1BQU1DLFNBQVMsSUFBSVgsMENBQU1BLENBQUNZLE1BQU0sQ0FBQ0gsZUFBZTtRQUM5Q04sT0FBT08sT0FBT0csSUFBSSxDQUFDVixLQUFLO1FBQ3hCQyxRQUFRTSxPQUFPRyxJQUFJLENBQUNULE1BQU07UUFDMUJVLGlCQUFpQkosT0FBT0ksZUFBZTtJQUN6QztJQUVBLCtDQUErQztJQUMvQyxzQ0FBc0M7SUFDdENILE9BQU9JLGFBQWEsR0FBRztJQUV2Qix1QkFBdUI7SUFDdkJmLDBDQUFNQSxDQUFDZ0IsTUFBTSxDQUFDQyxTQUFTLENBQUNDLEdBQUcsQ0FBQztRQUMxQkMsb0JBQW9CO1FBQ3BCQyxhQUFhO1FBQ2JDLGFBQWE7UUFDYkMsYUFBYTtRQUNiQyxtQkFBbUI7SUFDckI7SUFFQSxPQUFPWjtBQUNUO0FBRU8sU0FBU2EsYUFDZGIsTUFBcUIsRUFDckJFLElBQWdCO1FBQ2hCWSxrQkFBQUEsaUVBQTJCO0lBRTNCLElBQUksQ0FBQ2QsUUFBUTtRQUNYVixxREFBTUEsQ0FBQ3lCLElBQUksQ0FBQztRQUNaO0lBQ0Y7SUFFQSxJQUNFLENBQUNiLFFBQ0QsT0FBT0EsS0FBS1YsS0FBSyxLQUFLLFlBQ3RCLE9BQU9VLEtBQUtULE1BQU0sS0FBSyxVQUN2QjtRQUNBSCxxREFBTUEsQ0FBQ3lCLElBQUksQ0FBQztRQUNaO0lBQ0Y7SUFFQSxNQUFNQyxXQUFXaEIsT0FBT2lCLFFBQVE7SUFDaEMsTUFBTUMsWUFBWWxCLE9BQU9tQixTQUFTO0lBRWxDbkIsT0FBT29CLGFBQWEsQ0FBQztRQUNuQjVCLE9BQU9VLEtBQUtWLEtBQUs7UUFDakJDLFFBQVFTLEtBQUtULE1BQU07SUFDckI7SUFFQSxJQUFJcUIsaUJBQWlCO1FBQ25CLE1BQU1PLFNBQVNuQixLQUFLVixLQUFLLEdBQUd3QjtRQUM1QixNQUFNTSxTQUFTcEIsS0FBS1QsTUFBTSxHQUFHeUI7UUFDN0IsTUFBTUssVUFBVXZCLE9BQU93QixVQUFVO1FBQ2pDRCxRQUFRRSxPQUFPLENBQUMsQ0FBQ0M7WUFDZkEsSUFBSUwsTUFBTSxHQUFHLENBQUNLLElBQUlMLE1BQU0sSUFBSSxLQUFLQTtZQUNqQ0ssSUFBSUosTUFBTSxHQUFHLENBQUNJLElBQUlKLE1BQU0sSUFBSSxLQUFLQTtZQUNqQ0ksSUFBSUMsSUFBSSxHQUFHLENBQUNELElBQUlDLElBQUksSUFBSSxLQUFLTjtZQUM3QkssSUFBSUUsR0FBRyxHQUFHLENBQUNGLElBQUlFLEdBQUcsSUFBSSxLQUFLTjtZQUMzQkksSUFBSUcsU0FBUztRQUNmO0lBQ0Y7SUFFQTdCLE9BQU84QixTQUFTO0FBQ2xCO0FBRU8sU0FBU0Msb0JBQ2QvQixNQUFxQixFQUNyQmdDLEtBQWE7SUFFYixJQUFJLENBQUNoQyxRQUFRO1FBQ1hWLHFEQUFNQSxDQUFDeUIsSUFBSSxDQUFDO1FBQ1o7SUFDRjtJQUVBZixPQUFPaUMsa0JBQWtCLENBQUNELE9BQU87UUFDL0JoQyxPQUFPOEIsU0FBUztJQUNsQjtBQUNGO0FBRU8sU0FBU0ksYUFDZGxDLE1BQXFCO1FBQ3JCbUMsVUFBQUEsaUVBS0ksQ0FBQztJQUVMLElBQUksQ0FBQ25DLFFBQVE7UUFDWFYscURBQU1BLENBQUN5QixJQUFJLENBQUM7UUFDWixPQUFPO0lBQ1Q7SUFFQSxNQUFNLEVBQ0pxQixTQUFTLEtBQUssRUFDZEMsVUFBVSxDQUFDLEVBQ1hDLGFBQWEsQ0FBQyxFQUNkQyxzQkFBc0IsSUFBSSxFQUMzQixHQUFHSjtJQUVKLE9BQU9uQyxPQUFPd0MsU0FBUyxDQUFDO1FBQ3RCSixRQUFRLFNBQWdCLE9BQVBBO1FBQ2pCQztRQUNBQztRQUNBQztJQUNGO0FBQ0Y7QUFFTyxTQUFTRSxnQkFBZ0JDLE9BQWU7SUFDN0MsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1FBQzNCLElBQUlDLFVBQVVDLFNBQVMsSUFBSSxPQUFPQyxPQUFPQyxLQUFLLEtBQUssWUFBWTtZQUM3REEsTUFBTVAsU0FDSFEsSUFBSSxDQUFDLENBQUNDLE1BQVFBLElBQUlDLElBQUksSUFDdEJGLElBQUksQ0FBQyxDQUFDRTtnQkFDTCxNQUFNQyxPQUFPLElBQUlDLGNBQWM7b0JBQUUsQ0FBQ0YsS0FBS0csSUFBSSxDQUFDLEVBQUVIO2dCQUFLO2dCQUNuRE4sVUFBVUMsU0FBUyxDQUFDUyxLQUFLLENBQUM7b0JBQUNIO2lCQUFLO2dCQUNoQ1Q7WUFDRixHQUNDYSxLQUFLLENBQUNaO1FBQ1gsT0FBTztZQUNMQSxPQUFPLElBQUlhLE1BQU07UUFDbkI7SUFDRjtBQUNGO0FBRU8sU0FBU0MsZUFDZDNELE1BQXFCO1FBQ3JCNEQsV0FBQUEsaUVBQW1CLFNBQW9CLE9BQVhDLEtBQUtDLEdBQUcsSUFBRyxTQUN2QzFCLFNBQUFBLGlFQUF3QjtJQUV4QixJQUFJLENBQUNwQyxRQUFRO1FBQ1hWLHFEQUFNQSxDQUFDeUIsSUFBSSxDQUFDO1FBQ1o7SUFDRjtJQUVBLE1BQU0yQixVQUFVUixhQUFhbEMsUUFBUTtRQUFFb0M7SUFBTztJQUM5QyxNQUFNMkIsT0FBT0MsU0FBU0MsYUFBYSxDQUFDO0lBQ3BDRixLQUFLRyxRQUFRLEdBQUdOO0lBQ2hCRyxLQUFLSSxJQUFJLEdBQUd6QjtJQUNac0IsU0FBU0ksSUFBSSxDQUFDQyxXQUFXLENBQUNOO0lBQzFCQSxLQUFLTyxLQUFLO0lBQ1ZOLFNBQVNJLElBQUksQ0FBQ0csV0FBVyxDQUFDUjtBQUM1QjtBQUVBOzs7OztDQUtDLEdBQ00sU0FBU1MsY0FDZHhFLE1BQTRCLEVBQzVCeUUsSUFBWSxFQUNaQyxLQUFnQztJQUVoQyxJQUFJLENBQUMxRSxRQUFRO1FBQ1hWLHFEQUFNQSxDQUFDeUIsSUFBSSxDQUFDO1FBQ1o7SUFDRjtJQUVBLG1CQUFtQjtJQUNuQixNQUFNNEQsY0FBY0MsS0FBS0MsR0FBRyxDQUFDLEtBQUtELEtBQUtFLEdBQUcsQ0FBQyxHQUFHTDtJQUU5QyxJQUFJQyxPQUFPO1FBQ1QxRSxPQUFPK0UsV0FBVyxDQUFDLElBQUkxRiwwQ0FBTUEsQ0FBQzJGLEtBQUssQ0FBQ04sTUFBTU8sQ0FBQyxFQUFFUCxNQUFNUSxDQUFDLEdBQUdQO0lBQ3pELE9BQU87UUFDTDNFLE9BQU9tRixPQUFPLENBQUNSO0lBQ2pCO0lBRUEzRSxPQUFPb0YsZ0JBQWdCO0FBQ3pCO0FBRUE7OztDQUdDLEdBQ00sU0FBU0MsZ0JBQWdCckYsTUFBNEI7SUFDMUQsSUFBSSxDQUFDQSxRQUFRO1FBQ1hWLHFEQUFNQSxDQUFDeUIsSUFBSSxDQUFDO1FBQ1o7SUFDRjtJQUVBZixPQUFPc0Ysb0JBQW9CLENBQUM7UUFBQztRQUFHO1FBQUc7UUFBRztRQUFHO1FBQUc7S0FBRTtJQUM5Q3RGLE9BQU9vRixnQkFBZ0I7QUFDekI7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNHLFVBQ2R2RixNQUE0QixFQUM1QndGLE1BQWMsRUFDZEMsTUFBYztJQUVkLElBQUksQ0FBQ3pGLFFBQVE7UUFDWFYscURBQU1BLENBQUN5QixJQUFJLENBQUM7UUFDWjtJQUNGO0lBRUEsTUFBTTJFLE1BQU0xRixPQUFPMkYsaUJBQWlCO0lBQ3BDLElBQUlELEtBQUs7UUFDUEEsR0FBRyxDQUFDLEVBQUUsSUFBSUY7UUFDVkUsR0FBRyxDQUFDLEVBQUUsSUFBSUQ7UUFDVnpGLE9BQU9vRixnQkFBZ0I7SUFDekI7QUFDRjtBQUVBOzs7OztDQUtDLEdBQ00sU0FBU1Esa0JBQ2Q1RixNQUE0QjtRQUM1Qm1DLFVBQUFBLGlFQUlJLENBQUM7SUFFTCxJQUFJLENBQUNuQyxRQUFRO1FBQ1hWLHFEQUFNQSxDQUFDeUIsSUFBSSxDQUFDO1FBQ1osT0FBTztJQUNUO0lBRUEsTUFBTSxFQUFFcUIsU0FBUyxLQUFLLEVBQUVDLFVBQVUsQ0FBQyxFQUFFd0QsY0FBYyxLQUFLLEVBQUUsR0FBRzFEO0lBRTdELFVBQVU7SUFDVixNQUFNMkQsa0JBQWtCOUYsT0FBT0csZUFBZTtJQUU5QyxtQkFBbUI7SUFDbkIsSUFBSTBGLGVBQWV6RCxXQUFXLE9BQU87UUFDbkNwQyxPQUFPRyxlQUFlLEdBQUc7SUFDM0I7SUFFQSxPQUFPO0lBQ1AsTUFBTTRGLFVBQVUvRixPQUFPd0MsU0FBUyxDQUFDO1FBQy9CSixRQUFRQSxXQUFXLFNBQVMsU0FBUztRQUNyQ0MsU0FBUztRQUNUQyxZQUFZRDtJQUNkO0lBRUEsVUFBVTtJQUNWLElBQUl3RCxlQUFlekQsV0FBVyxPQUFPO1FBQ25DcEMsT0FBT0csZUFBZSxHQUFHMkY7UUFDekI5RixPQUFPb0YsZ0JBQWdCO0lBQ3pCO0lBRUEsT0FBT1c7QUFDVDtBQUVBOzs7O0NBSUMsR0FDTSxTQUFTQyxvQkFDZGhHLE1BQTRCO1FBQzVCbUMsVUFBQUEsaUVBS0ksQ0FBQztJQUVMLE1BQU00RCxVQUFVSCxrQkFBa0I1RixRQUFRbUM7SUFDMUMsSUFBSSxDQUFDNEQsU0FBUztJQUVkLE1BQU0sRUFBRTNELFNBQVMsS0FBSyxFQUFFd0IsUUFBUSxFQUFFLEdBQUd6QjtJQUVyQyxrQ0FBa0M7SUFDbEMsTUFBTTJCLE1BQU0sSUFBSUQ7SUFDaEIsTUFBTW9DLFlBQVluQyxJQUNmb0MsV0FBVyxHQUNYQyxPQUFPLENBQUMsU0FBUyxJQUNqQkEsT0FBTyxDQUFDLEtBQUssS0FDYkMsS0FBSyxDQUFDLEdBQUc7SUFDWixNQUFNQyxrQkFBa0IsU0FBc0JqRSxPQUFiNkQsV0FBVSxLQUFVLE9BQVA3RDtJQUU5QyxTQUFTO0lBQ1QsTUFBTTJCLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQztJQUNwQ0YsS0FBS0csUUFBUSxHQUFHTixZQUFZeUM7SUFDNUJ0QyxLQUFLSSxJQUFJLEdBQUc0QjtJQUNaL0IsU0FBU0ksSUFBSSxDQUFDQyxXQUFXLENBQUNOO0lBQzFCQSxLQUFLTyxLQUFLO0lBQ1ZOLFNBQVNJLElBQUksQ0FBQ0csV0FBVyxDQUFDUjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2ZhYnJpYy9jYW52YXMudHM/ZGFmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAL2xpYi91dGlscy9sb2dnZXInXG5pbXBvcnQgdHlwZSB7IENhbnZhc0NvbmZpZywgQ2FudmFzU2l6ZSB9IGZyb20gJ0Bjb3Zlci1jcmFmdC9zaGFyZWQtdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBDQU5WQVNfU0laRVM6IENhbnZhc1NpemVbXSA9IFtcbiAgeyB3aWR0aDogMTA4MCwgaGVpZ2h0OiAxNDQwLCBsYWJlbDogJzM6NCcsIHJhdGlvOiAnMzo0JyB9LFxuICB7IHdpZHRoOiAxMDgwLCBoZWlnaHQ6IDEwODAsIGxhYmVsOiAnMToxJywgcmF0aW86ICcxOjEnIH0sXG4gIHsgd2lkdGg6IDEwODAsIGhlaWdodDogODEwLCBsYWJlbDogJzQ6MycsIHJhdGlvOiAnNDozJyB9LFxuICB7IHdpZHRoOiAxMDgwLCBoZWlnaHQ6IDQ2MiwgbGFiZWw6ICcyMTo5JywgcmF0aW86ICcyMTo5JyB9LFxuXVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9CQUNLR1JPVU5EUyA9IFtcbiAgJyNmZmZmZmYnLFxuICAnIzAwMDAwMCcsXG4gICcjZjBmMGYwJyxcbiAgJyNlMGUwZTAnLFxuICAnI2QwZDBkMCcsXG4gICcjYzBjMGMwJyxcbl1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbnZhcyhcbiAgY2FudmFzRWxlbWVudDogSFRNTENhbnZhc0VsZW1lbnQsXG4gIGNvbmZpZzogQ2FudmFzQ29uZmlnXG4pOiBmYWJyaWMuQ2FudmFzIHtcbiAgY29uc3QgY2FudmFzID0gbmV3IGZhYnJpYy5DYW52YXMoY2FudmFzRWxlbWVudCwge1xuICAgIHdpZHRoOiBjb25maWcuc2l6ZS53aWR0aCxcbiAgICBoZWlnaHQ6IGNvbmZpZy5zaXplLmhlaWdodCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbmZpZy5iYWNrZ3JvdW5kQ29sb3IsXG4gIH0pXG5cbiAgLy8gRW5hYmxlIG9iamVjdCBjYWNoaW5nIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgLy8gQHRzLWlnbm9yZSAtIG9iamVjdENhY2hpbmcgcHJvcGVydHlcbiAgY2FudmFzLm9iamVjdENhY2hpbmcgPSB0cnVlXG5cbiAgLy8gU2V0IGRlZmF1bHQgY29udHJvbHNcbiAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuc2V0KHtcbiAgICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxuICAgIGNvcm5lckNvbG9yOiAnIzNiODJmNicsXG4gICAgY29ybmVyU3R5bGU6ICdjaXJjbGUnLFxuICAgIGJvcmRlckNvbG9yOiAnIzNiODJmNicsXG4gICAgYm9yZGVyU2NhbGVGYWN0b3I6IDIsXG4gIH0pXG5cbiAgcmV0dXJuIGNhbnZhc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplQ2FudmFzKFxuICBjYW52YXM6IGZhYnJpYy5DYW52YXMsXG4gIHNpemU6IENhbnZhc1NpemUsXG4gIHByZXNlcnZlQ29udGVudDogYm9vbGVhbiA9IHRydWVcbikge1xuICBpZiAoIWNhbnZhcykge1xuICAgIGxvZ2dlci53YXJuKCdDYW52YXMgaXMgbm90IGluaXRpYWxpemVkJylcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmIChcbiAgICAhc2l6ZSB8fFxuICAgIHR5cGVvZiBzaXplLndpZHRoICE9PSAnbnVtYmVyJyB8fFxuICAgIHR5cGVvZiBzaXplLmhlaWdodCAhPT0gJ251bWJlcidcbiAgKSB7XG4gICAgbG9nZ2VyLndhcm4oJ0ludmFsaWQgY2FudmFzIHNpemUgcHJvdmlkZWQgdG8gcmVzaXplQ2FudmFzJylcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IG9sZFdpZHRoID0gY2FudmFzLmdldFdpZHRoKClcbiAgY29uc3Qgb2xkSGVpZ2h0ID0gY2FudmFzLmdldEhlaWdodCgpXG5cbiAgY2FudmFzLnNldERpbWVuc2lvbnMoe1xuICAgIHdpZHRoOiBzaXplLndpZHRoLFxuICAgIGhlaWdodDogc2l6ZS5oZWlnaHQsXG4gIH0pXG5cbiAgaWYgKHByZXNlcnZlQ29udGVudCkge1xuICAgIGNvbnN0IHNjYWxlWCA9IHNpemUud2lkdGggLyBvbGRXaWR0aFxuICAgIGNvbnN0IHNjYWxlWSA9IHNpemUuaGVpZ2h0IC8gb2xkSGVpZ2h0XG4gICAgY29uc3Qgb2JqZWN0cyA9IGNhbnZhcy5nZXRPYmplY3RzKClcbiAgICBvYmplY3RzLmZvckVhY2goKG9iaikgPT4ge1xuICAgICAgb2JqLnNjYWxlWCA9IChvYmouc2NhbGVYIHx8IDEpICogc2NhbGVYXG4gICAgICBvYmouc2NhbGVZID0gKG9iai5zY2FsZVkgfHwgMSkgKiBzY2FsZVlcbiAgICAgIG9iai5sZWZ0ID0gKG9iai5sZWZ0IHx8IDApICogc2NhbGVYXG4gICAgICBvYmoudG9wID0gKG9iai50b3AgfHwgMCkgKiBzY2FsZVlcbiAgICAgIG9iai5zZXRDb29yZHMoKVxuICAgIH0pXG4gIH1cblxuICBjYW52YXMucmVuZGVyQWxsKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENhbnZhc0JhY2tncm91bmQoXG4gIGNhbnZhczogZmFicmljLkNhbnZhcyxcbiAgY29sb3I6IHN0cmluZ1xuKSB7XG4gIGlmICghY2FudmFzKSB7XG4gICAgbG9nZ2VyLndhcm4oJ0NhbnZhcyBpcyBub3QgaW5pdGlhbGl6ZWQnKVxuICAgIHJldHVyblxuICB9XG5cbiAgY2FudmFzLnNldEJhY2tncm91bmRDb2xvcihjb2xvciwgKCkgPT4ge1xuICAgIGNhbnZhcy5yZW5kZXJBbGwoKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0Q2FudmFzKFxuICBjYW52YXM6IGZhYnJpYy5DYW52YXMsXG4gIG9wdGlvbnM6IHtcbiAgICBmb3JtYXQ/OiAncG5nJyB8ICdqcGcnXG4gICAgcXVhbGl0eT86IG51bWJlclxuICAgIG11bHRpcGxpZXI/OiBudW1iZXJcbiAgICBlbmFibGVSZXRpbmFTY2FsaW5nPzogYm9vbGVhblxuICB9ID0ge31cbik6IHN0cmluZyB7XG4gIGlmICghY2FudmFzKSB7XG4gICAgbG9nZ2VyLndhcm4oJ0NhbnZhcyBpcyBub3QgaW5pdGlhbGl6ZWQnKVxuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgY29uc3Qge1xuICAgIGZvcm1hdCA9ICdwbmcnLFxuICAgIHF1YWxpdHkgPSAxLFxuICAgIG11bHRpcGxpZXIgPSAxLFxuICAgIGVuYWJsZVJldGluYVNjYWxpbmcgPSB0cnVlLFxuICB9ID0gb3B0aW9uc1xuXG4gIHJldHVybiBjYW52YXMudG9EYXRhVVJMKHtcbiAgICBmb3JtYXQ6IGBpbWFnZS8ke2Zvcm1hdH1gLFxuICAgIHF1YWxpdHksXG4gICAgbXVsdGlwbGllcixcbiAgICBlbmFibGVSZXRpbmFTY2FsaW5nLFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKGRhdGFVcmw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkICYmIHR5cGVvZiB3aW5kb3cuZmV0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZldGNoKGRhdGFVcmwpXG4gICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5ibG9iKCkpXG4gICAgICAgIC50aGVuKChibG9iKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBDbGlwYm9hcmRJdGVtKHsgW2Jsb2IudHlwZV06IGJsb2IgfSlcbiAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlKFtpdGVtXSlcbiAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKHJlamVjdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ2xpcGJvYXJkIEFQSSBub3Qgc3VwcG9ydGVkJykpXG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRDYW52YXMoXG4gIGNhbnZhczogZmFicmljLkNhbnZhcyxcbiAgZmlsZW5hbWU6IHN0cmluZyA9IGBjb3Zlci0ke0RhdGUubm93KCl9LnBuZ2AsXG4gIGZvcm1hdDogJ3BuZycgfCAnanBnJyA9ICdwbmcnXG4pIHtcbiAgaWYgKCFjYW52YXMpIHtcbiAgICBsb2dnZXIud2FybignQ2FudmFzIGlzIG5vdCBpbml0aWFsaXplZCcpXG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBkYXRhVXJsID0gZXhwb3J0Q2FudmFzKGNhbnZhcywgeyBmb3JtYXQgfSlcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWVcbiAgbGluay5ocmVmID0gZGF0YVVybFxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspXG4gIGxpbmsuY2xpY2soKVxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspXG59XG5cbi8qKlxuICog6K6+572u55S75biD57yp5pS+57qn5YirXG4gKiBAcGFyYW0gY2FudmFzIEZhYnJpYy5qcyBDYW52YXMg5a6e5L6LXG4gKiBAcGFyYW0gem9vbSDnvKnmlL7nuqfliKvvvIgxID0gMTAwJe+8iVxuICogQHBhcmFtIHBvaW50IOe8qeaUvuS4reW/g+eCue+8iOWPr+mAie+8jOm7mOiupOS4uueUu+W4g+S4reW/g++8iVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2FudmFzWm9vbShcbiAgY2FudmFzOiBmYWJyaWMuQ2FudmFzIHwgbnVsbCxcbiAgem9vbTogbnVtYmVyLFxuICBwb2ludD86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVxuKSB7XG4gIGlmICghY2FudmFzKSB7XG4gICAgbG9nZ2VyLndhcm4oJ0NhbnZhcyBpcyBub3QgaW5pdGlhbGl6ZWQnKVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8g6ZmQ5Yi257yp5pS+6IyD5Zu0IDAuMXggLSA1eFxuICBjb25zdCBjbGFtcGVkWm9vbSA9IE1hdGgubWF4KDAuMSwgTWF0aC5taW4oNSwgem9vbSkpXG5cbiAgaWYgKHBvaW50KSB7XG4gICAgY2FudmFzLnpvb21Ub1BvaW50KG5ldyBmYWJyaWMuUG9pbnQocG9pbnQueCwgcG9pbnQueSksIGNsYW1wZWRab29tKVxuICB9IGVsc2Uge1xuICAgIGNhbnZhcy5zZXRab29tKGNsYW1wZWRab29tKVxuICB9XG5cbiAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKVxufVxuXG4vKipcbiAqIOmHjee9rueUu+W4g+inhuWbvu+8iDEwMCUg57yp5pS+77yM5bGF5Lit77yJXG4gKiBAcGFyYW0gY2FudmFzIEZhYnJpYy5qcyBDYW52YXMg5a6e5L6LXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldENhbnZhc1ZpZXcoY2FudmFzOiBmYWJyaWMuQ2FudmFzIHwgbnVsbCkge1xuICBpZiAoIWNhbnZhcykge1xuICAgIGxvZ2dlci53YXJuKCdDYW52YXMgaXMgbm90IGluaXRpYWxpemVkJylcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNhbnZhcy5zZXRWaWV3cG9ydFRyYW5zZm9ybShbMSwgMCwgMCwgMSwgMCwgMF0pXG4gIGNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKClcbn1cblxuLyoqXG4gKiDlubPnp7vnlLvluIPop4blm75cbiAqIEBwYXJhbSBjYW52YXMgRmFicmljLmpzIENhbnZhcyDlrp7kvotcbiAqIEBwYXJhbSBkZWx0YVggWCDovbTlgY/np7vph49cbiAqIEBwYXJhbSBkZWx0YVkgWSDovbTlgY/np7vph49cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhbkNhbnZhcyhcbiAgY2FudmFzOiBmYWJyaWMuQ2FudmFzIHwgbnVsbCxcbiAgZGVsdGFYOiBudW1iZXIsXG4gIGRlbHRhWTogbnVtYmVyXG4pIHtcbiAgaWYgKCFjYW52YXMpIHtcbiAgICBsb2dnZXIud2FybignQ2FudmFzIGlzIG5vdCBpbml0aWFsaXplZCcpXG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCB2cHQgPSBjYW52YXMudmlld3BvcnRUcmFuc2Zvcm1cbiAgaWYgKHZwdCkge1xuICAgIHZwdFs0XSArPSBkZWx0YVhcbiAgICB2cHRbNV0gKz0gZGVsdGFZXG4gICAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKVxuICB9XG59XG5cbi8qKlxuICog5a+85Ye655S75biD5Li65Zu+54mH77yI5pSv5oyB5YCN546H5ZKM6YCP5piO6IOM5pmv77yJXG4gKiBAcGFyYW0gY2FudmFzIEZhYnJpYy5qcyBDYW52YXMg5a6e5L6LXG4gKiBAcGFyYW0gb3B0aW9ucyDlr7zlh7rpgInpoblcbiAqIEByZXR1cm5zIERhdGFVUkwg5a2X56ym5LiyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRDYW52YXNJbWFnZShcbiAgY2FudmFzOiBmYWJyaWMuQ2FudmFzIHwgbnVsbCxcbiAgb3B0aW9uczoge1xuICAgIGZvcm1hdD86ICdwbmcnIHwgJ2pwZWcnXG4gICAgcXVhbGl0eT86IG51bWJlciAvLyAxeCwgMngsIDN4XG4gICAgdHJhbnNwYXJlbnQ/OiBib29sZWFuXG4gIH0gPSB7fVxuKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghY2FudmFzKSB7XG4gICAgbG9nZ2VyLndhcm4oJ0NhbnZhcyBpcyBub3QgaW5pdGlhbGl6ZWQnKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCB7IGZvcm1hdCA9ICdwbmcnLCBxdWFsaXR5ID0gMSwgdHJhbnNwYXJlbnQgPSBmYWxzZSB9ID0gb3B0aW9uc1xuXG4gIC8vIOS/neWtmOWOn+Wni+iDjOaZr+iJslxuICBjb25zdCBvcmlnaW5hbEJnQ29sb3IgPSBjYW52YXMuYmFja2dyb3VuZENvbG9yXG5cbiAgLy8g5aaC5p6c6ZyA6KaB6YCP5piO6IOM5pmv77yM5Li05pe256e76Zmk6IOM5pmv6ImyXG4gIGlmICh0cmFuc3BhcmVudCAmJiBmb3JtYXQgPT09ICdwbmcnKSB7XG4gICAgY2FudmFzLmJhY2tncm91bmRDb2xvciA9ICcnXG4gIH1cblxuICAvLyDlr7zlh7rlm77niYdcbiAgY29uc3QgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoe1xuICAgIGZvcm1hdDogZm9ybWF0ID09PSAnanBlZycgPyAnanBlZycgOiAncG5nJyxcbiAgICBxdWFsaXR5OiAxLCAvLyBGYWJyaWMuanMg55qEIHF1YWxpdHkg5Y+C5pWw77yIMC0x77yJXG4gICAgbXVsdGlwbGllcjogcXVhbGl0eSwgLy8g5YCN546HXG4gIH0pXG5cbiAgLy8g5oGi5aSN5Y6f5aeL6IOM5pmv6ImyXG4gIGlmICh0cmFuc3BhcmVudCAmJiBmb3JtYXQgPT09ICdwbmcnKSB7XG4gICAgY2FudmFzLmJhY2tncm91bmRDb2xvciA9IG9yaWdpbmFsQmdDb2xvclxuICAgIGNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKClcbiAgfVxuXG4gIHJldHVybiBkYXRhVVJMXG59XG5cbi8qKlxuICog5LiL6L2955S75biD5Li65Zu+54mH5paH5Lu2XG4gKiBAcGFyYW0gY2FudmFzIEZhYnJpYy5qcyBDYW52YXMg5a6e5L6LXG4gKiBAcGFyYW0gb3B0aW9ucyDlr7zlh7rpgInpoblcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkQ2FudmFzSW1hZ2UoXG4gIGNhbnZhczogZmFicmljLkNhbnZhcyB8IG51bGwsXG4gIG9wdGlvbnM6IHtcbiAgICBmb3JtYXQ/OiAncG5nJyB8ICdqcGVnJ1xuICAgIHF1YWxpdHk/OiBudW1iZXJcbiAgICB0cmFuc3BhcmVudD86IGJvb2xlYW5cbiAgICBmaWxlbmFtZT86IHN0cmluZ1xuICB9ID0ge31cbikge1xuICBjb25zdCBkYXRhVVJMID0gZXhwb3J0Q2FudmFzSW1hZ2UoY2FudmFzLCBvcHRpb25zKVxuICBpZiAoIWRhdGFVUkwpIHJldHVyblxuXG4gIGNvbnN0IHsgZm9ybWF0ID0gJ3BuZycsIGZpbGVuYW1lIH0gPSBvcHRpb25zXG5cbiAgLy8g55Sf5oiQ5paH5Lu25ZCN77yaY292ZXItWVlZWU1NREQtSEhNTVNTLnBuZ1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5vd1xuICAgIC50b0lTT1N0cmluZygpXG4gICAgLnJlcGxhY2UoL1stOl0vZywgJycpXG4gICAgLnJlcGxhY2UoJ1QnLCAnLScpXG4gICAgLnNsaWNlKDAsIDE1KVxuICBjb25zdCBkZWZhdWx0RmlsZW5hbWUgPSBgY292ZXItJHt0aW1lc3RhbXB9LiR7Zm9ybWF0fWBcblxuICAvLyDliJvlu7rkuIvovb3pk77mjqVcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWUgfHwgZGVmYXVsdEZpbGVuYW1lXG4gIGxpbmsuaHJlZiA9IGRhdGFVUkxcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKVxuICBsaW5rLmNsaWNrKClcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKVxufVxuIl0sIm5hbWVzIjpbImZhYnJpYyIsImxvZ2dlciIsIkNBTlZBU19TSVpFUyIsIndpZHRoIiwiaGVpZ2h0IiwibGFiZWwiLCJyYXRpbyIsIkRFRkFVTFRfQkFDS0dST1VORFMiLCJjcmVhdGVDYW52YXMiLCJjYW52YXNFbGVtZW50IiwiY29uZmlnIiwiY2FudmFzIiwiQ2FudmFzIiwic2l6ZSIsImJhY2tncm91bmRDb2xvciIsIm9iamVjdENhY2hpbmciLCJPYmplY3QiLCJwcm90b3R5cGUiLCJzZXQiLCJ0cmFuc3BhcmVudENvcm5lcnMiLCJjb3JuZXJDb2xvciIsImNvcm5lclN0eWxlIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJTY2FsZUZhY3RvciIsInJlc2l6ZUNhbnZhcyIsInByZXNlcnZlQ29udGVudCIsIndhcm4iLCJvbGRXaWR0aCIsImdldFdpZHRoIiwib2xkSGVpZ2h0IiwiZ2V0SGVpZ2h0Iiwic2V0RGltZW5zaW9ucyIsInNjYWxlWCIsInNjYWxlWSIsIm9iamVjdHMiLCJnZXRPYmplY3RzIiwiZm9yRWFjaCIsIm9iaiIsImxlZnQiLCJ0b3AiLCJzZXRDb29yZHMiLCJyZW5kZXJBbGwiLCJzZXRDYW52YXNCYWNrZ3JvdW5kIiwiY29sb3IiLCJzZXRCYWNrZ3JvdW5kQ29sb3IiLCJleHBvcnRDYW52YXMiLCJvcHRpb25zIiwiZm9ybWF0IiwicXVhbGl0eSIsIm11bHRpcGxpZXIiLCJlbmFibGVSZXRpbmFTY2FsaW5nIiwidG9EYXRhVVJMIiwiY29weVRvQ2xpcGJvYXJkIiwiZGF0YVVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid2luZG93IiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwiYmxvYiIsIml0ZW0iLCJDbGlwYm9hcmRJdGVtIiwidHlwZSIsIndyaXRlIiwiY2F0Y2giLCJFcnJvciIsImRvd25sb2FkQ2FudmFzIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiaHJlZiIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJzZXRDYW52YXNab29tIiwiem9vbSIsInBvaW50IiwiY2xhbXBlZFpvb20iLCJNYXRoIiwibWF4IiwibWluIiwiem9vbVRvUG9pbnQiLCJQb2ludCIsIngiLCJ5Iiwic2V0Wm9vbSIsInJlcXVlc3RSZW5kZXJBbGwiLCJyZXNldENhbnZhc1ZpZXciLCJzZXRWaWV3cG9ydFRyYW5zZm9ybSIsInBhbkNhbnZhcyIsImRlbHRhWCIsImRlbHRhWSIsInZwdCIsInZpZXdwb3J0VHJhbnNmb3JtIiwiZXhwb3J0Q2FudmFzSW1hZ2UiLCJ0cmFuc3BhcmVudCIsIm9yaWdpbmFsQmdDb2xvciIsImRhdGFVUkwiLCJkb3dubG9hZENhbnZhc0ltYWdlIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJyZXBsYWNlIiwic2xpY2UiLCJkZWZhdWx0RmlsZW5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/fabric/canvas.ts\n"));

/***/ })

});